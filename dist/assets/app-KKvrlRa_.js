import{r as e,j as t,X as s,I as a,T as i,C as r,a as n,R as l,W as d,L as o,U as c,S as m,b as p,c as h,d as u,e as x,u as j,B as g,M as _,f as y,g as v,H as N,P as f,F as b,h as w,i as I,k as T,l as k,m as S,n as C,o as D,$ as A,p as E,q as P,s as $,t as L,v as M,w as R,E as B,x as q,y as z,A as O,D as U,z as F,G as H,J as G,K as V,N as W,O as Y,Q as K,V as Q,Y as J,Z,_ as X,a0 as ee}from"./vendor-NVSu9pY_.js";const te={},se=function preload(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let allSettled=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=e?.nonce||e?.getAttribute("nonce");a=allSettled(t.map(e=>{if((e=function(e){return"/innovativeIdeas/dist/"+e}(e))in te)return;te[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,s&&i.setAttribute("nonce",s),document.head.appendChild(i),t?new Promise((t,s)=>{i.addEventListener("load",t),i.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function handlePreloadError(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&handlePreloadError(e.reason);return e().catch(handlePreloadError)})},themeReducer=(e,t)=>{switch(t.type){case"TOGGLE_THEME":{const t="light"===e.theme?"dark":"light";return localStorage.setItem("innovative-ideas-theme",t),{...e,theme:t,isSystemTheme:!1}}case"SET_THEME":return localStorage.setItem("innovative-ideas-theme",t.payload),{...e,theme:t.payload,isSystemTheme:!1};case"SET_SYSTEM_THEME":if(t.payload){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return localStorage.removeItem("innovative-ideas-theme"),{...e,theme:t,isSystemTheme:!0}}return localStorage.setItem("innovative-ideas-theme",e.theme),{...e,isSystemTheme:!1};case"SET_SYSTEM_THEME_VALUE":return e.isSystemTheme?{...e,theme:t.payload}:e;default:return e}},ae=e.createContext(void 0),ThemeProvider=({children:s})=>{const[a,i]=e.useReducer(themeReducer,(()=>{const e=localStorage.getItem("innovative-ideas-theme"),t=!e;return!e||"light"!==e&&"dark"!==e?{theme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",isSystemTheme:t}:{theme:e,isSystemTheme:!1}})());e.useEffect(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),handleChange=e=>{i({type:"SET_SYSTEM_THEME_VALUE",payload:e.matches?"dark":"light"})};return a.isSystemTheme&&e.addEventListener("change",handleChange),()=>{e.removeEventListener("change",handleChange)}},[a.isSystemTheme]),e.useEffect(()=>{document.documentElement.setAttribute("data-theme",a.theme)},[a.theme]);const r={...a,toggleTheme:()=>i({type:"TOGGLE_THEME"}),setTheme:e=>i({type:"SET_THEME",payload:e}),setSystemTheme:e=>i({type:"SET_SYSTEM_THEME",payload:e})};return t.jsx(ae.Provider,{value:r,children:s})};const ie=new class{level=2;constructor(){}shouldLog(e){return e<=this.level}formatMessage(e,t,s){const a=(new Date).toISOString(),i=s?` ${JSON.stringify(s)}`:"";return`[${a}] ${e.toUpperCase()}: ${t}${i}`}error(e,t){this.shouldLog(0)&&console.error(this.formatMessage("error",e,t))}warn(e,t){this.shouldLog(1)&&console.warn(this.formatMessage("warn",e,t))}info(e,t){this.shouldLog(2)&&console.info(this.formatMessage("info",e,t))}debug(e,t){this.shouldLog(3)&&console.debug(this.formatMessage("debug",e,t))}},logError=(e,t)=>ie.error(e,t),logInfo=(e,t)=>ie.info(e,t),re={baseUrl:"http://hospp16srv:36156",lists:{ideas:"innovative_ideas",tasks:"ino_ideas_tasks",discussions:"innovative_idea_discussions"}};const ne=new class{config;requestQueue=new Map;rateLimitDelay=100;constructor(e=re){this.config=e}async getFormDigest(){try{const e=await fetch(`${this.config.baseUrl}/_api/contextinfo`,{method:"POST",headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"},credentials:"include"});if(!e.ok)throw new Error(`Failed to get form digest: ${e.status}`);return(await e.json()).d.GetContextWebInformation.FormDigestValue}catch(e){throw logError("Failed to get SharePoint form digest",e),e}}async makeRequest(e,t={},s=0){try{if(["POST","PUT","DELETE","PATCH"].includes(t.method||"GET")){const e=await this.getFormDigest();t.headers={...t.headers,"X-RequestDigest":e}}const s={Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"},a=await fetch(e,{...t,headers:{...s,...t.headers},credentials:"include"});if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);if(204===a.status)return{d:{}};return await a.json()}catch(a){if(s<3)return logInfo(`Request failed, retrying (${s+1}/3)`,{url:e,error:a}),await new Promise(e=>setTimeout(e,1e3*(s+1))),this.makeRequest(e,t,s+1);throw logError("Request failed after retries",{url:e,error:a}),a}}async rateLimitedRequest(e,t={}){const s=this.requestQueue.get(e);s&&(await s,await new Promise(e=>setTimeout(e,this.rateLimitDelay)));const a=this.makeRequest(e,t);this.requestQueue.set(e,a);try{return await a}finally{this.requestQueue.delete(e)}}async get(e){const t=e.startsWith("http")?e:`${this.config.baseUrl}${e}`;return this.rateLimitedRequest(t,{method:"GET"})}async post(e,t){const s=e.startsWith("http")?e:`${this.config.baseUrl}${e}`;return this.rateLimitedRequest(s,{method:"POST",body:JSON.stringify(t)})}async put(e,t,s){const a=e.startsWith("http")?e:`${this.config.baseUrl}${e}`,i={"X-HTTP-Method":"MERGE","If-Match":s||"*"};return this.rateLimitedRequest(a,{method:"POST",headers:i,body:JSON.stringify(t)})}async delete(e){const t=e.startsWith("http")?e:`${this.config.baseUrl}${e}`;return this.rateLimitedRequest(t,{method:"POST",headers:{"X-HTTP-Method":"DELETE"}})}},le=re.lists,de="ID,Title,Description,Status,Category,Priority,Created,Modified,Author/Id,Author/Title,ApprovedBy/Id,ApprovedBy/Title,Attachments,AttachmentFiles";const oe=new class{async getIdeas(e){try{let t=`/_api/web/lists/getbytitle('${le.ideas}')/items?$select=${de}&$expand=Author,ApprovedBy,AttachmentFiles&$orderby=Created desc&$top=500`;e&&(t+=`&$filter=${e}`);return(await ne.get(t)).d.results.map(this.processIdea)}catch(t){throw logError("Failed to fetch ideas",t),t}}async uploadAttachments(e,t){try{const s=t.map(async t=>{const s=`/_api/web/lists/getbytitle('${le.ideas}')/items(${e})/AttachmentFiles/add(FileName='${t.name}')`,a=new FormData;a.append("file",t),await ne.post(s,a,{headers:{"Content-Type":void 0}}),logInfo("Attachment uploaded successfully",{ideaId:e,fileName:t.name})});await Promise.all(s)}catch(s){throw logError("Failed to upload attachments",s),s}}async getIdeaById(e){try{const t=`/_api/web/lists/getbytitle('${le.ideas}')/items(${e})?$select=${de}&$expand=Author,ApprovedBy,AttachmentFiles`,s=await ne.get(t);return this.processIdea(s.d)}catch(t){throw logError(`Failed to fetch idea ${e}`,t),t}}async createIdea(e){try{const t=`/_api/web/lists/getbytitle('${le.ideas}')/items`,s={__metadata:{type:"SP.Data.Innovative_x005f_ideasListItem"},Title:e.title,Description:e.description,Status:e.status,Category:e.category,Priority:e.priority},a=(await ne.post(t,s)).d.ID;return logInfo("Idea created successfully",{id:a}),e.attachments&&e.attachments.length>0&&await this.uploadAttachments(a,e.attachments),await this.getIdeaById(a)}catch(t){throw logError("Failed to create idea",t),t}}async updateIdea(e,t){try{const s=`/_api/web/lists/getbytitle('${le.ideas}')/items(${e})`,a={__metadata:{type:"SP.Data.Innovative_x005f_ideasListItem"}};return t.title&&(a.Title=t.title),t.description&&(a.Description=t.description),t.status&&(a.Status=t.status),t.category&&(a.Category=t.category),t.priority&&(a.Priority=t.priority),t.approvedBy&&(a.ApprovedById=parseInt(t.approvedBy)),await ne.put(s,a),await this.getIdeaById(e)}catch(s){throw logError(`Failed to update idea ${e}`,s),s}}async getTasksForIdea(e){try{const t=`/_api/web/lists/getbytitle('${le.tasks}')/items?$select=ID,Title,Body,Status,Priority,PercentComplete,DueDate,StartDate,AssignedTo/Id,AssignedTo/Title,AssignedTo/EMail&$expand=AssignedTo&$filter=IdeaId eq ${e}&$orderby=Created desc&$top=100`;return(await ne.get(t)).d.results.map(this.processTask)}catch(t){throw logError(`Failed to fetch tasks for idea ${e}`,t),t}}async createTaskForIdea(e,t){try{const s=`/_api/web/lists/getbytitle('${le.tasks}')/items`,a={__metadata:{type:"SP.Data.Innovative_x005f_idea_x005f_tasksListItem"},Title:t.title,Body:t.description,Status:t.status,Priority:t.priority||"Normal",PercentComplete:(t.percentComplete||0)/100,DueDate:t.dueDate,StartDate:t.startDate,AssignedToId:t.assignedTo?.map(e=>parseInt(e)),IdeaId:e},i=await ne.post(s,a);return logInfo("Task created successfully",{id:i.d.ID,ideaId:e}),this.processTask(i.d)}catch(s){throw logError("Failed to create task",s),s}}async getDiscussionsForTask(e){try{const t=`/_api/web/lists/getbytitle('${le.discussions}')/items?$select=ID,Title,Body,Created,Modified,Author/Id,Author/Title&$expand=Author&$filter=TaskId eq ${e}&$orderby=Created desc&$top=200`;return(await ne.get(t)).d.results.map(this.processDiscussion)}catch(t){throw logError(`Failed to fetch discussions for task ${e}`,t),t}}async createDiscussionForTask(e,t){try{const s=`/_api/web/lists/getbytitle('${le.discussions}')/items`,a={__metadata:{type:"SP.Data.Innovative_x005f_idea_x005f_discussionsListItem"},Title:t.title,Body:t.body,TaskId:e},i=await ne.post(s,a);return logInfo("Discussion created successfully",{id:i.d.ID,taskId:e}),this.processDiscussion(i.d)}catch(s){throw logError("Failed to create discussion",s),s}}processIdea(e){const t=e.Created?new Date(e.Created):new Date,s=e.Modified?new Date(e.Modified):t;isNaN(t.getTime())&&logError("Invalid created date for idea",{rawCreated:e.Created,ideaId:e.ID}),isNaN(s.getTime())&&logError("Invalid modified date for idea",{rawModified:e.Modified,ideaId:e.ID});let a=e.Category||"Other",i=e.Priority||"Medium",r=e.Description||"";if(!(e.Category&&null!==e.Category||e.Priority&&null!==e.Priority)){const e=r.split("\n"),t=e.findIndex(e=>"---"===e);if(-1!==t){const s=e.slice(t+1);r=e.slice(0,t).join("\n"),s.forEach(e=>{e.startsWith("Category: ")?a=e.replace("Category: ",""):e.startsWith("Priority: ")&&(i=e.replace("Priority: ",""))})}}return{id:e.ID,title:e.Title,description:r,status:e.Status,category:a,priority:i,created:t,modified:s,createdBy:{id:e.Author?.Id,name:e.Author?.Title,email:e.Author?.EMail},approvedBy:e.ApprovedBy?{id:e.ApprovedBy.Id,name:e.ApprovedBy.Title,email:e.ApprovedBy.EMail}:void 0,attachments:e.AttachmentFiles?.results?.map(e=>({fileName:e.FileName,serverRelativeUrl:e.ServerRelativeUrl}))||[]}}processTask(e){const t=e.Created?new Date(e.Created):new Date,s=e.Modified?new Date(e.Modified):t;return isNaN(t.getTime())&&logError("Invalid created date for task",{rawCreated:e.Created,taskId:e.ID}),isNaN(s.getTime())&&logError("Invalid modified date for task",{rawModified:e.Modified,taskId:e.ID}),{id:e.ID,title:e.Title,description:e.Body,status:e.Status,priority:e.Priority,percentComplete:100*(e.PercentComplete||0),dueDate:e.DueDate?new Date(e.DueDate):void 0,startDate:e.StartDate?new Date(e.StartDate):void 0,assignedTo:e.AssignedTo?.results?.map(e=>({id:e.Id,name:e.Title,email:e.EMail,source:"AD"}))||[],created:t,modified:s,ideaId:e.IdeaId}}processDiscussion(e){const t=e.Created?new Date(e.Created):new Date,s=e.Modified?new Date(e.Modified):t;return isNaN(t.getTime())&&logError("Invalid created date for discussion",{rawCreated:e.Created,discussionId:e.ID}),isNaN(s.getTime())&&logError("Invalid modified date for discussion",{rawModified:e.Modified,discussionId:e.ID}),{id:e.ID,title:e.Title,body:e.Body,created:t,modified:s,createdBy:{id:e.Author?.Id,name:e.Author?.Title,email:e.Author?.EMail},taskId:e.TaskId}}};const ce=new class{async getCurrentUser(){try{const e="/_api/web/currentuser",t=await ne.get(e);return logInfo("Current user fetched",{userId:t.d.Id,userName:t.d.Title}),t.d}catch(e){throw logError("Failed to fetch current user",e),e}}async getUserGroups(e){try{const t=e?`/_api/web/GetUserById(${e})/Groups`:"/_api/web/currentuser/Groups",s=(await ne.get(t)).d.results||[];return logInfo("User groups fetched",{groupCount:s.length}),s}catch(t){throw logError("Failed to fetch user groups",t),t}}async getUserPermissions(){try{const e="/_api/web/effectiveBasePermissions",t=(await ne.get(e)).d,s=!(2147483647&~t.High),a=!!(32&t.High),i=!!(8&t.High),r=!!(4&t.High),n=!!(1&t.High),l=!!(1&t.Low),d={hasFullControl:s,hasDesign:a,hasEdit:i,hasContribute:r,hasRead:n,hasLimitedAccess:l,hasViewOnly:!!(2&t.Low)};return logInfo("User permissions checked",d),d}catch(e){throw logError("Failed to check user permissions",e),e}}async getCurrentUserInfo(){try{const[e,t,s]=await Promise.all([this.getCurrentUser(),this.getUserGroups(),this.getUserPermissions()]),a=t.some(e=>"Innovative Ideas - Administrators"===e.Title)||e.IsSiteAdmin||s.hasFullControl,i=t.some(e=>"Innovative Ideas - Approvers"===e.Title)||a,r=t.some(e=>"Innovative Ideas - Contributors"===e.Title),n=t.find(e=>e.Title.toLowerCase().includes("department")||e.Title.toLowerCase().includes("team")),l=(t.find(e=>e.Title.toLowerCase().includes("role")||e.Title.toLowerCase().includes("position")),{user:e,groups:t,permissions:s,isApprover:i,isAdmin:a,isContributor:r,department:n?.Title,role:a?"Administrator":i?"Approver":r?"Contributor":"User"});return logInfo("Complete user info fetched",{userId:e.Id,userName:e.Title,isAdmin:a,isApprover:i,groupCount:t.length}),l}catch(e){throw logError("Failed to get complete user info",e),e}}async isUserInGroup(e){try{return(await this.getUserGroups()).some(t=>t.Title.toLowerCase().includes(e.toLowerCase()))}catch(t){return logError(`Failed to check if user is in group: ${e}`,t),!1}}},me=e.createContext(void 0),UserProvider=({children:s})=>{const[a,i]=e.useState(null),[r,n]=e.useState(!0),[l,d]=e.useState(null),[o,c]=e.useState(!1),fetchUser=async()=>{try{n(!0),d(null);const e=await ce.getCurrentUserInfo();i(e),logInfo("User context updated",{userId:e.user.Id,userName:e.user.Title,isAdmin:e.isAdmin,isApprover:e.isApprover})}catch(e){const t=e instanceof Error?e.message:"Failed to load user information";d(t),logError("Failed to fetch user in context",e)}finally{n(!1)}};e.useEffect(()=>{fetchUser()},[]);const m={user:a,isLoading:r,error:l,refreshUser:async()=>{await fetchUser()},hasPermission:e=>a?.permissions[e]||!1,isApprover:a?.isApprover||!1,isAdmin:a?.isAdmin||!1,isContributor:a?.isContributor||!1,switchToContributor:()=>{if(!a)return;c(!0);const e={...a,isContributor:!0,isApprover:!1,isAdmin:!1,role:"Contributor"};i(e),console.log("ðŸ”§ [TEST MODE] Switched to Contributor role")},switchToApprover:()=>{if(!a)return;c(!0);const e={...a,isContributor:!0,isApprover:!0,isAdmin:!1,role:"Approver"};i(e),console.log("ðŸ”§ [TEST MODE] Switched to Approver role")},switchToAdmin:()=>{if(!a)return;c(!0);const e={...a,isContributor:!0,isApprover:!0,isAdmin:!0,role:"Administrator"};i(e),console.log("ðŸ”§ [TEST MODE] Switched to Administrator role")},isTestMode:o};return t.jsx(me.Provider,{value:m,children:s})},useUser=()=>{const t=e.useContext(me);if(void 0===t)throw new Error("useUser must be used within a UserProvider");return t},pe={data:{ideas:[],tasks:[],discussions:[],approvers:[],lastUpdated:null},loading:{ideas:!1,tasks:!1,discussions:!1,approvers:!1},error:{ideas:null,tasks:null,discussions:null,approvers:null}},dataReducer=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,loading:{...e.loading,[t.payload.key]:t.payload.value}};case"SET_ERROR":return{...e,error:{...e.error,[t.payload.key]:t.payload.value}};case"SET_IDEAS":return{...e,data:{...e.data,ideas:t.payload,lastUpdated:new Date}};case"SET_TASKS":return{...e,data:{...e.data,tasks:t.payload,lastUpdated:new Date}};case"SET_DISCUSSIONS":return{...e,data:{...e.data,discussions:t.payload,lastUpdated:new Date}};case"SET_APPROVERS":return{...e,data:{...e.data,approvers:t.payload,lastUpdated:new Date}};case"UPDATE_LAST_UPDATED":return{...e,data:{...e.data,lastUpdated:new Date}};default:return e}},he=e.createContext(void 0),DataProvider=({children:s})=>{const[a,i]=e.useReducer(dataReducer,pe),{user:r}=useUser(),n=e.useCallback(async()=>{i({type:"SET_LOADING",payload:{key:"ideas",value:!0}}),i({type:"SET_ERROR",payload:{key:"ideas",value:null}});try{const e=(await oe.getIdeas()).map(e=>({id:e.id,title:e.title,description:e.description,status:e.status,createdBy:e.createdBy.name,createdDate:e.created,approvedBy:e.approvedBy?.name,approvedDate:e.modified,category:"General",priority:"Medium"}));i({type:"SET_IDEAS",payload:e})}catch(e){i({type:"SET_ERROR",payload:{key:"ideas",value:e instanceof Error?e.message:"Failed to load ideas"}})}finally{i({type:"SET_LOADING",payload:{key:"ideas",value:!1}})}},[]),l=e.useCallback(async()=>{i({type:"SET_LOADING",payload:{key:"tasks",value:!0}}),i({type:"SET_ERROR",payload:{key:"tasks",value:null}});try{const t=[],s=a.data.ideas;for(const a of s)try{const e=(await oe.getTasksForIdea(a.id)).map(e=>({id:e.id,ideaId:e.ideaId||a.id,title:e.title,description:e.description,status:e.status,assignedTo:e.assignedTo.map(e=>e.name),createdBy:e.assignedTo[0]?.name||"Unknown",createdDate:e.created,dueDate:e.dueDate,progress:e.percentComplete}));t.push(...e)}catch(e){console.warn(`Failed to load tasks for idea ${a.id}`,e)}i({type:"SET_TASKS",payload:t})}catch(e){i({type:"SET_ERROR",payload:{key:"tasks",value:e instanceof Error?e.message:"Failed to load tasks"}})}finally{i({type:"SET_LOADING",payload:{key:"tasks",value:!1}})}},[a.data.ideas]),d=e.useCallback(async()=>{i({type:"SET_LOADING",payload:{key:"discussions",value:!0}}),i({type:"SET_ERROR",payload:{key:"discussions",value:null}});try{i({type:"SET_DISCUSSIONS",payload:[]})}catch(e){i({type:"SET_ERROR",payload:{key:"discussions",value:e instanceof Error?e.message:"Failed to load discussions"}})}finally{i({type:"SET_LOADING",payload:{key:"discussions",value:!1}})}},[]),o=e.useCallback(async()=>{i({type:"SET_LOADING",payload:{key:"approvers",value:!0}}),i({type:"SET_ERROR",payload:{key:"approvers",value:null}});try{i({type:"SET_APPROVERS",payload:[{id:"1",name:"John Manager",email:"john.manager@company.com",department:"IT"},{id:"2",name:"Sarah Director",email:"sarah.director@company.com",department:"Operations"},{id:"3",name:"Mike Supervisor",email:"mike.supervisor@company.com",department:"HR"}]})}catch(e){i({type:"SET_ERROR",payload:{key:"approvers",value:e instanceof Error?e.message:"Failed to load approvers"}})}finally{i({type:"SET_LOADING",payload:{key:"approvers",value:!1}})}},[]),c=e.useCallback(async(e,t)=>{try{const s={status:t};"Approved"!==t&&"Rejected"!==t||!r?.user?.Id||(s.approvedBy=r.user.Id.toString());const l=await oe.updateIdea(e,s),d=a.data.ideas.map(s=>s.id===e?{...s,status:t,approvedBy:"Approved"===t||"Rejected"===t?r?.user?.Title:s.approvedBy,approvedDate:"Approved"===t||"Rejected"===t?new Date:s.approvedDate}:s);return i({type:"SET_IDEAS",payload:d}),i({type:"UPDATE_LAST_UPDATED"}),setTimeout(()=>n(),1e3),l}catch(s){throw console.error(`Failed to update idea ${e} status to ${t}`,s),s}},[a.data.ideas,r?.user?.Id,r?.user?.Title,n]);return t.jsx(he.Provider,{value:{state:a,dispatch:i,loadIdeas:n,loadTasks:l,loadDiscussions:d,loadApprovers:o,updateIdeaStatus:c},children:s})},useIdeaData=()=>{const t=e.useContext(he);if(void 0===t)throw new Error("useIdeaData must be used within a DataProvider");return{data:t.state.data,loading:t.state.loading,error:t.state.error,loadIdeas:t.loadIdeas,loadTasks:t.loadTasks,loadDiscussions:t.loadDiscussions,loadApprovers:t.loadApprovers,updateIdeaStatus:t.updateIdeaStatus}},ue={sidebarOpen:!1,modalOpen:!1,modalContent:null,loading:!1,loadingMessage:"Loading..."},uiReducer=(e,t)=>{switch(t.type){case"SET_SIDEBAR_OPEN":return{...e,sidebarOpen:t.payload};case"SET_MODAL_OPEN":return{...e,modalOpen:t.payload};case"SET_MODAL_CONTENT":return{...e,modalContent:t.payload};case"SET_LOADING":return{...e,loading:t.payload.loading,loadingMessage:t.payload.message||"Loading..."};default:return e}},xe=e.createContext(void 0),UIProvider=({children:s})=>{const[a,i]=e.useReducer(uiReducer,ue);return t.jsx(xe.Provider,{value:{state:a,dispatch:i},children:s})},je=e.createContext(void 0),ToastProvider=({children:s})=>{const[a,i]=e.useState([]),r=e.useCallback(e=>{const t=Date.now().toString()+Math.random().toString(36).substr(2,9),s={...e,id:t,duration:e.duration??5e3};i(e=>[...e,s]),s.duration&&s.duration>0&&setTimeout(()=>{n(t)},s.duration)},[]),n=e.useCallback(e=>{i(t=>t.filter(t=>t.id!==e))},[]),l=e.useCallback(()=>{i([])},[]),d={toasts:a,addToast:r,removeToast:n,clearToasts:l};return t.jsxs(je.Provider,{value:d,children:[s,t.jsx(ToastContainer,{})]})},ToastContainer=()=>{const{toasts:s,removeToast:a}=(()=>{const t=e.useContext(je);if(!t)throw new Error("useToast must be used within a ToastProvider");return t})();return 0===s.length?null:t.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:s.map(e=>t.jsx(ToastItem,{toast:e,onRemove:a},e.id))})},ToastItem=({toast:e,onRemove:l})=>t.jsx("div",{className:`p-4 rounded-lg border shadow-lg transform transition-all duration-300 ease-in-out animate-in slide-in-from-right-2 ${(e=>{switch(e){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}})(e.type)}`,role:"alert",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:(e=>{switch(e){case"success":return t.jsx(n,{size:20,className:"text-green-500"});case"error":return t.jsx(r,{size:20,className:"text-red-500"});case"warning":return t.jsx(i,{size:20,className:"text-yellow-500"});default:return t.jsx(a,{size:20,className:"text-blue-500"})}})(e.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:e.title}),e.message&&t.jsx("p",{className:"text-sm text-gray-700",children:e.message}),e.action&&t.jsx("button",{onClick:e.action.onClick,className:"mt-2 text-sm font-medium text-blue-600 hover:text-blue-800 underline",children:e.action.label})]}),t.jsx("button",{onClick:()=>l(e.id),className:"flex-shrink-0 p-1 rounded-md hover:bg-black/5 transition-colors duration-200","aria-label":"Close notification",children:t.jsx(s,{size:16,className:"text-gray-400"})})]})}),ge={notifications:[]},notificationReducer=(e,t)=>{switch(t.type){case"ADD_NOTIFICATION":{const s={...t.payload,id:Date.now().toString(),timestamp:new Date,read:!1};return{...e,notifications:[s,...e.notifications]}}case"MARK_AS_READ":return{...e,notifications:e.notifications.map(e=>e.id===t.payload?{...e,read:!0}:e)};case"MARK_ALL_AS_READ":return{...e,notifications:e.notifications.map(e=>({...e,read:!0}))};case"REMOVE_NOTIFICATION":return{...e,notifications:e.notifications.filter(e=>e.id!==t.payload)};case"CLEAR_ALL":return{...e,notifications:[]};default:return e}},_e=e.createContext(void 0),NotificationProvider=({children:s})=>{const[a,i]=e.useReducer(notificationReducer,ge);return t.jsx(_e.Provider,{value:{state:a,dispatch:i},children:s})},AppProviders=({children:e})=>t.jsx(ThemeProvider,{children:t.jsx(UserProvider,{children:t.jsx(DataProvider,{children:t.jsx(UIProvider,{children:t.jsx(NotificationProvider,{children:t.jsx(ToastProvider,{children:e})})})})})});class ye extends e.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx(i,{size:48,className:"text-red-500"})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:this.handleRetry,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:[t.jsx(l,{size:16}),"Try Again"]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors duration-200",children:"Reload Page"})]}),!1]})}):this.props.children}}class ve extends e.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){const t=e.message.includes("fetch")||e.message.includes("network")||e.message.includes("SharePoint")||"NetworkError"===e.name;return{hasError:!0,error:e,isNetworkError:t}}componentDidCatch(e,t){console.error("DataErrorBoundary caught an error:",e,t)}handleRetry=()=>{this.setState({hasError:!1,error:void 0,isNetworkError:void 0}),this.props.onRetry?.()};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{isNetworkError:e,error:s}=this.state;return t.jsx("div",{className:"min-h-[400px] bg-gray-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:e?t.jsx(d,{size:48,className:"text-orange-500"}):t.jsx(i,{size:48,className:"text-red-500"})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e?"Connection Problem":"Data Loading Error"}),t.jsx("p",{className:"text-gray-600 mb-6",children:e?"Unable to connect to the server. Please check your internet connection and try again.":"There was a problem loading the data. This might be a temporary issue."}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:this.handleRetry,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:[t.jsx(l,{size:16}),"Try Again"]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors duration-200",children:"Reload Page"})]}),!1]})})}return this.props.children}}const LoadingSpinner=({size:e="md",message:s="Loading...",className:a="",fullScreen:i=!1})=>{const r=t.jsxs("div",{className:`flex flex-col items-center justify-center gap-3 ${a}`,children:[t.jsx(o,{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]} animate-spin text-blue-600`,"aria-hidden":"true"}),s&&t.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:s})]});return i?t.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50",children:r}):r},Ne="_userProfile_gbmtd_3",fe="_userProfileButton_gbmtd_9",be="_userProfileAvatar_gbmtd_63",we="_userProfileInfo_gbmtd_92",Ie="_userProfileName_gbmtd_100",Te="_userProfileChevron_gbmtd_122",ke="_userProfileDropdown_gbmtd_133",Se="_userProfileHeader_gbmtd_160",Ce="_userProfileHeaderContent_gbmtd_170",De="_userProfileHeaderAvatar_gbmtd_176",Ae="_userProfileHeaderInfo_gbmtd_199",Ee="_userProfileHeaderName_gbmtd_204",Pe="_userProfileHeaderEmail_gbmtd_214",$e="_userProfileHeaderRole_gbmtd_223",Le="_userProfileMenu_gbmtd_232",Me="_userProfileMenuItem_gbmtd_236",Re="_userProfileMenuIcon_gbmtd_262",Be="_danger_gbmtd_272",qe="_userProfileBadges_gbmtd_353",ze="_userBadge_gbmtd_360",Oe="_adminBadge_gbmtd_372",Ue="_approverBadge_gbmtd_378",Fe="_contributorBadge_gbmtd_384",He="_roleBadge_gbmtd_390",Ge="_userPermissions_gbmtd_400",Ve="_permissionBadge_gbmtd_407",We="_groupCount_gbmtd_419",Ye="_loading_gbmtd_426",Ke="_loadingSpinner_gbmtd_434",Qe="_error_gbmtd_452",UserProfile=({onLogout:s,onSettings:a,className:i=""})=>{const[r,n]=e.useState(!1),l=e.useRef(null),{user:d,isLoading:o,error:j,isAdmin:g,isApprover:_,isContributor:y}=useUser(),v=(()=>{const{user:e,isLoading:t}=useUser();return!e||t?{id:"",name:"Loading...",email:"",avatar:void 0,role:"",department:"",initials:"??"}:{id:e.user.Id.toString(),name:e.user.Title,email:e.user.Email||"",avatar:void 0,role:e.role||"User",department:e.department,initials:(s=e.user.Title,s.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2))};var s})();e.useEffect(()=>{const handleClickOutside=e=>{l.current&&!l.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]);return o?t.jsx("div",{className:`${Ne} ${i}`,children:t.jsxs("div",{className:fe,children:[t.jsx("div",{className:`${be} ${Ye}`,children:t.jsx("div",{className:Ke})}),t.jsx("div",{className:we,children:t.jsx("span",{className:Ie,children:"Loading..."})})]})}):j?t.jsx("div",{className:`${Ne} ${i}`,children:t.jsxs("div",{className:fe,children:[t.jsx("div",{className:`${be} ${Qe}`,children:t.jsx(c,{size:16})}),t.jsx("div",{className:we,children:t.jsx("span",{className:Ie,children:"Error"})})]})}):t.jsxs("div",{className:`${Ne} ${i}`,ref:l,children:[t.jsxs("button",{onClick:()=>n(!r),className:fe,"aria-label":"User profile menu",children:[t.jsx("div",{className:be,children:v.avatar?t.jsx("img",{src:v.avatar,alt:`${v.name} avatar`}):v.initials}),t.jsxs("div",{className:we,children:[t.jsx("span",{className:Ie,children:v.name}),t.jsxs("div",{className:qe,children:[g&&t.jsxs("span",{className:`${ze} ${Oe}`,children:[t.jsx(m,{size:10}),"Admin"]}),_&&!g&&t.jsxs("span",{className:`${ze} ${Ue}`,children:[t.jsx(p,{size:10}),"Approver"]}),y&&!g&&!_&&t.jsxs("span",{className:`${ze} ${Fe}`,children:[t.jsx(c,{size:10}),"Contributor"]}),v.role&&!g&&!_&&!y&&t.jsx("span",{className:`${ze} ${He}`,children:v.role})]})]}),t.jsx(h,{size:14,className:`${Te} ${r?"rotate-180":""}`})]}),r&&t.jsxs("div",{className:ke,children:[t.jsx("div",{className:Se,children:t.jsxs("div",{className:Ce,children:[t.jsx("div",{className:De,children:v.avatar?t.jsx("img",{src:v.avatar,alt:`${v.name} avatar`}):v.initials}),t.jsxs("div",{className:Ae,children:[t.jsx("div",{className:Ee,children:v.name}),t.jsx("div",{className:Pe,children:v.email}),t.jsxs("div",{className:$e,children:[v.role,v.department&&` â€¢ ${v.department}`]}),t.jsxs("div",{className:Ge,children:[g&&t.jsx("span",{className:Ve,children:"Site Administrator"}),_&&!g&&t.jsx("span",{className:Ve,children:"Approver"}),y&&!g&&!_&&t.jsx("span",{className:Ve,children:"Contributor"}),d?.groups&&d.groups.length>0&&t.jsxs("span",{className:We,children:[d.groups.length," group",1!==d.groups.length?"s":""]})]})]})]})}),t.jsxs("div",{className:Le,children:[t.jsxs("button",{onClick:()=>{n(!1),a?.()},className:Me,children:[t.jsx(u,{size:16,className:Re}),t.jsx("span",{children:"Settings"})]}),t.jsxs("button",{onClick:()=>{n(!1),s?.()},className:`${Me} ${Be}`,children:[t.jsx(x,{size:16,className:Re}),t.jsx("span",{children:"Sign Out"})]})]})]})]})},Je="_topUtilityBar_1i61b_41",Ze="_scrolled_1i61b_59",Xe="_utilityBarContent_1i61b_66",et="_utilityBarLeft_1i61b_74",tt="_utilityBarLogoContainer_1i61b_82",st="_utilityBarLogo_1i61b_82",at="_utilityBarText_1i61b_126",it="_utilityBarTitle_1i61b_135",rt="_compactTitle_1i61b_153",nt="_inlineStatusBar_1i61b_163",lt="_statusIndicator_1i61b_173",dt="_statusDot_1i61b_184",ot="_statusText_1i61b_202",ct="_utilityBarTitleRow_1i61b_222",mt="_utilityBarRight_1i61b_236",pt="_utilityIconsSeparator_1i61b_244",ht="_themeSeparator_1i61b_245",ut="_profileSeparator_1i61b_246",xt="_utilityIcon_1i61b_244",jt="_themeToggleBtn_1i61b_293",gt="_alertsToggleBtn_1i61b_294",_t="_compact_1i61b_153",yt="_notificationIcon_1i61b_458",vt="_notificationBadge_1i61b_466",Nt="_notificationDropdown_1i61b_483",ft="_notificationHeader_1i61b_500",bt="_closeButton_1i61b_518",wt="_notificationList_1i61b_531",It="_notificationItem_1i61b_536",Tt="_notificationContent_1i61b_553",kt="_notificationTitle_1i61b_557",St="_notificationMessage_1i61b_564",Ct="_notificationTime_1i61b_570",Dt="_noNotifications_1i61b_580",At="_reloadButton_1i61b_623",Et="_testingSection_1i61b_629",Pt="_testingLabel_1i61b_638",$t="_testingButtons_1i61b_648",Lt="_testingButton_1i61b_648",Mt="_active_1i61b_677",Rt=e.memo(({lastUpdated:d})=>{const{theme:o,toggleTheme:h}=(()=>{const t=e.useContext(ae);if(void 0===t)throw new Error("useTheme must be used within a ThemeProvider");return t})(),{notifications:u,markAsRead:x,removeNotification:v}=(()=>{const t=e.useContext(_e);if(void 0===t)throw new Error("useNotification must be used within a NotificationProvider");return{notifications:t.state.notifications,unreadCount:t.state.notifications.filter(e=>!e.read).length,addNotification:e=>t.dispatch({type:"ADD_NOTIFICATION",payload:e}),markAsRead:e=>t.dispatch({type:"MARK_AS_READ",payload:e}),markAllAsRead:()=>t.dispatch({type:"MARK_ALL_AS_READ"}),removeNotification:e=>t.dispatch({type:"REMOVE_NOTIFICATION",payload:e}),clearAll:()=>t.dispatch({type:"CLEAR_ALL"})}})(),{user:N,isAdmin:f,isApprover:b,isContributor:w,switchToContributor:I,switchToApprover:T,switchToAdmin:k}=useUser(),S=j(),[C,D]=e.useState(!1),[A,E]=e.useState(!1),[P,$]=e.useState(!1),[L,M]=e.useState(!1),R=e.useRef(null),formatNotificationTime=e=>{const t=(new Date).getTime()-e.getTime(),s=Math.floor(t/6e4),a=Math.floor(t/36e5),i=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s}m ago`:a<24?`${a}h ago`:i<7?`${i}d ago`:e.toLocaleDateString()};e.useEffect(()=>{const handleScroll=()=>{const e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;D(e>50)};window.addEventListener("scroll",handleScroll,{passive:!0}),document.addEventListener("scroll",handleScroll,{passive:!0});const e=document.documentElement;return e&&e.addEventListener("scroll",handleScroll,{passive:!0}),()=>{window.removeEventListener("scroll",handleScroll),document.removeEventListener("scroll",handleScroll),e&&e.removeEventListener("scroll",handleScroll)}},[]),e.useEffect(()=>{const handleClickOutside=e=>{R.current&&!R.current.contains(e.target)&&M(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]);const getNotificationIcon=e=>{switch(e){case"success":return t.jsx(n,{size:16,className:"text-green-500"});case"error":return t.jsx(r,{size:16,className:"text-red-500"});case"warning":return t.jsx(i,{size:16,className:"text-yellow-500"});default:return t.jsx(a,{size:16,className:"text-blue-500"})}},B=N?.user?.Title?.toLowerCase().includes("israr")||N?.user?.Name?.toLowerCase().includes("israr");return t.jsx("div",{className:`${Je} ${C?Ze:""}`,children:t.jsxs("div",{className:Xe,children:[!C&&!P&&t.jsx("div",{className:tt,children:t.jsx("img",{src:"http://hospp16srv:36156/_layouts/15/DocIdRedir.aspx?ID=YXKCFK7R4HD4-1677176773-59",alt:"Innovative Ideas Logo",className:st,onLoad:()=>{E(!0)},onError:()=>{$(!0)},loading:"lazy"})}),t.jsx("div",{className:et,children:t.jsx("div",{className:at,children:t.jsxs("div",{className:ct,children:[t.jsxs("h1",{className:`${it} ${C?_t:""}`,children:[C?"Innovative Ideas":"Innovative Ideas Platform",!C&&d&&t.jsx("span",{className:nt,children:t.jsxs("span",{className:lt,children:[t.jsx("span",{className:dt}),t.jsxs("span",{className:ot,children:["Updated ",(e=>{const t=(new Date).getTime()-e.getTime(),s=Math.floor(t/6e4),a=Math.floor(t/36e5),i=Math.floor(t/864e5);return s<1?"just now":s<60?`${s}m ago`:a<24?`${a}h ago`:i<7?`${i}d ago`:e.toLocaleDateString()})(d)]})]})})]}),t.jsx("span",{className:rt,"aria-hidden":C?"true":"false",children:"Ideas"})]})})}),t.jsxs("div",{className:mt,children:[t.jsx("div",{className:pt}),t.jsxs("div",{className:yt,ref:R,children:[t.jsxs("div",{className:gt,onClick:()=>M(!L),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),M(!L))},role:"button",tabIndex:0,title:"Notifications",children:[t.jsx(g,{size:18}),u.length>0&&t.jsx("span",{className:vt,children:u.length>99?"99+":u.length})]}),L&&t.jsxs("div",{className:Nt,children:[t.jsxs("div",{className:ft,children:[t.jsx("h4",{children:"Notifications"}),t.jsx("button",{onClick:()=>M(!1),className:bt,children:t.jsx(s,{size:16})})]}),t.jsx("div",{className:wt,children:0===u.length?t.jsx("div",{className:Dt,children:"No new notifications"}):u.map(e=>t.jsxs("div",{className:It,onClick:()=>(e=>{e.read||x(e.id),M(!1),e.actionUrl&&S(e.actionUrl)})(e),children:[t.jsxs("div",{className:Tt,children:[t.jsx("div",{className:kt,children:e.title}),t.jsx("div",{className:St,children:e.message}),t.jsx("div",{className:Ct,children:formatNotificationTime(e.timestamp)})]}),t.jsx("div",{className:yt,children:getNotificationIcon(e.type)}),t.jsx("button",{onClick:t=>{return s=e.id,t.stopPropagation(),void v(s);var s},className:bt,"aria-label":"Clear notification",children:t.jsx(s,{size:12})})]},e.id))})]})]}),t.jsx("div",{className:pt}),t.jsx("div",{className:`${xt} ${At}`,onClick:()=>{window.dispatchEvent(new globalThis.CustomEvent("silentReload"))},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),window.dispatchEvent(new globalThis.CustomEvent("silentReload")))},role:"button",tabIndex:0,title:"Refresh Data",children:t.jsx(l,{size:18})}),t.jsx("div",{className:ht}),t.jsx("div",{className:jt,onClick:h,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),h())},role:"button",tabIndex:0,title:"light"===o?"Switch to Dark Mode":"Switch to Light Mode",children:"light"===o?t.jsx(_,{size:18}):t.jsx(y,{size:18})}),t.jsx("div",{className:ut}),B&&t.jsxs("div",{className:Et,children:[t.jsx("div",{className:Pt,children:"ðŸ”§ TEST"}),t.jsxs("div",{className:$t,children:[t.jsxs("button",{onClick:()=>{I()},className:`${Lt} ${!w||b||f?"":Mt}`,title:"Switch to Contributor Role",children:[t.jsx(c,{size:14}),t.jsx("span",{children:"Contributor"})]}),t.jsxs("button",{onClick:()=>{T()},className:`${Lt} ${b&&!f?Mt:""}`,title:"Switch to Approver Role",children:[t.jsx(p,{size:14}),t.jsx("span",{children:"Approver"})]}),t.jsxs("button",{onClick:()=>{k()},className:`${Lt} ${f?Mt:""}`,title:"Switch to Administrator Role",children:[t.jsx(m,{size:14}),t.jsx("span",{children:"Admin"})]})]})]}),t.jsx("div",{className:ut}),t.jsx(UserProfile,{})]})]})})}),Bt="_controlPanel_4dml3_5",qt="_panelContainer_4dml3_23",zt="_panelContent_4dml3_35",Ot="_navigationSection_4dml3_51",Ut="_navigationPills_4dml3_65",Ft="_divider_4dml3_77",Ht="_actionControls_4dml3_91",Gt="_navButton_4dml3_105",Vt="_active_4dml3_141",Wt="_actionButton_4dml3_155",Yt="_primary_4dml3_193",Kt="_secondary_4dml3_215",Qt="_statusSection_4dml3_263",Jt="_statusIndicator_4dml3_281",TopControlPanel=({onNewIdea:e,onViewAll:s,onFilter:a,onExport:i,className:r=""})=>{const n=v(),l=j(),{isAdmin:d,isApprover:o,isContributor:m}=useUser(),p=(()=>{const e=[{path:"/",label:"Dashboard",icon:N,description:"Main Dashboard & Overview"},{path:"/my-ideas",label:"My Ideas",icon:c,description:"My Submitted Ideas"}];return o&&!d&&e.push({path:"/approver",label:"Approvals",icon:T,description:"Review & Approve Ideas"}),d&&e.push({path:"/admin",label:"Admin",icon:u,description:"Administrative Controls"}),e})(),h=(()=>{const e=[];return e.push(t.jsxs("button",{onClick:()=>l("/idea/new"),className:`${Wt} ${Yt}`,title:"Submit a new idea",children:[t.jsx(f,{size:16}),t.jsx("span",{children:"New Idea"})]},"new-idea")),(o||d)&&e.push(t.jsxs("button",{onClick:s,className:`${Wt} ${Kt}`,title:"View all ideas",children:[t.jsx(b,{size:16}),t.jsx("span",{children:"View All"})]},"view-all")),d&&e.push(t.jsxs("button",{onClick:i,className:`${Wt} ${Kt}`,title:"Export reports",children:[t.jsx(w,{size:16}),t.jsx("span",{children:"Export"})]},"export")),e.push(t.jsxs("button",{onClick:a,className:`${Wt} ${Kt}`,title:"Filter ideas",children:[t.jsx(I,{size:16}),t.jsx("span",{children:"Filter"})]},"filter")),e})();return t.jsx("div",{className:`${Bt} ${r}`,children:t.jsx("div",{className:qt,children:t.jsxs("div",{className:zt,children:[t.jsxs("div",{className:Ot,children:[t.jsx("div",{className:Ut,children:p.map(e=>{const s=e.icon,a=n.pathname===e.path;return t.jsxs("button",{onClick:()=>l(e.path),className:`${Gt} ${a?Vt:""}`,title:e.description,children:[t.jsx(s,{size:16}),t.jsx("span",{children:e.label})]},e.path)})}),t.jsx("div",{className:Ft}),t.jsx("div",{className:Ht,children:h})]}),t.jsxs("div",{className:Qt,children:[t.jsx("div",{className:Jt}),t.jsx("span",{children:"Ready"})]})]})})})},Zt=k.lazy(()=>se(()=>Promise.resolve().then(()=>ds),void 0)),Xt=k.lazy(()=>se(()=>Promise.resolve().then(()=>os),void 0)),es=k.lazy(()=>se(()=>Promise.resolve().then(()=>ms),void 0)),ts=k.lazy(()=>se(()=>Promise.resolve().then(()=>va),void 0)),ss=k.lazy(()=>se(()=>Promise.resolve().then(()=>fa),void 0)),as=k.lazy(()=>se(()=>Promise.resolve().then(()=>ba),void 0)),RoleBasedRouter=()=>{j(),v();const{isAdmin:s,isApprover:a,isContributor:i,isLoading:r}=useUser();return e.useEffect(()=>{r||logInfo("User can access general dashboard at root path")},[r]),r?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(LoadingSpinner,{size:"lg",message:"Loading user permissions..."})}):t.jsxs(C,{children:[t.jsx(D,{path:"/admin",element:t.jsx(Xt,{})}),t.jsx(D,{path:"/approver",element:t.jsx(Zt,{})}),t.jsx(D,{path:"/contributor",element:t.jsx(Xt,{})}),t.jsx(D,{path:"/my-ideas",element:t.jsx(es,{})}),t.jsx(D,{path:"/idea/new",element:t.jsx(ts,{})}),t.jsx(D,{path:"/idea/:id",element:t.jsx(ss,{})}),t.jsx(D,{path:"/task/:id",element:t.jsx(as,{})}),t.jsx(D,{path:"/",element:t.jsx(Xt,{})})]})},AppContent=()=>{const{data:e}=useIdeaData();return t.jsx(ye,{children:t.jsx(ve,{children:t.jsx(S,{children:t.jsx(AppWithRouter,{data:e})})})})},AppWithRouter=({data:s})=>{const a=["/","/admin","/approver","/contributor","/my-ideas"].some(e=>window.location.hash.startsWith(`#${e}`)),i=["/idea/new","/idea/:id","/task/:id"].some(e=>window.location.hash.startsWith(`#${e}`));return t.jsxs("div",{className:"app-container "+(a?"has-control-panel":""),children:[t.jsx(Rt,{lastUpdated:s.lastUpdated||new Date}),a&&!i&&t.jsx(TopControlPanel,{}),t.jsx(e.Suspense,{fallback:t.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:t.jsx(LoadingSpinner,{size:"lg"})}),children:t.jsx(RoleBasedRouter,{})})]})},App=()=>t.jsx(AppProviders,{children:t.jsx(AppContent,{})});const logBundleInfo=()=>{if("undefined"!=typeof window&&"performance"in window){const e=performance.getEntriesByType("navigation")[0];e&&console.log("[Performance] Navigation timing:",{domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,loadComplete:e.loadEventEnd-e.loadEventStart,totalTime:e.loadEventEnd-e.fetchStart})}};(()=>{"undefined"!=typeof window&&"performance"in window&&(window.addEventListener("load",()=>{const e=performance.now();console.log(`[Performance] Page loaded in ${e.toFixed(2)}ms`)}),window.addEventListener("DOMContentLoaded",()=>{const e=performance.now();console.log(`[Performance] DOM content loaded in ${e.toFixed(2)}ms`)}))})();const is={};window.$=window.jQuery=A,window.Chart=E,class{static setSecurityMetaTags(){const e=document.createElement("meta");e.setAttribute("http-equiv","X-Content-Type-Options"),e.setAttribute("content","nosniff"),document.head.appendChild(e)}}.setSecurityMetaTags(),logBundleInfo(),logInfo("Security measures initialized",{component:"main"}),(()=>{if(void 0===window._spPageContextInfo){const e=is?.VITE_SHAREPOINT_BASE_URL||"http://hospp16srv:36156";console.log("[Innovative Ideas] Development mode: Using mock SharePoint context ("+e+")"),window._spPageContextInfo={webAbsoluteUrl:e,webServerRelativeUrl:"/",siteAbsoluteUrl:e,userId:1,userDisplayName:"System User"}}else console.log("[Innovative Ideas] Production mode: Using real SharePoint context")})();const rs=window.location.hostname.includes("sharepoint.com")||window.location.hostname.includes("hospp16srv")||window.location.href.includes("_layouts")||document.referrer.includes("sharepoint.com");if(rs){logInfo("SharePoint environment detected - disabling PWA features",{component:"main",hostname:window.location.hostname,referrer:document.referrer});const e=document.getElementById("manifest-link");e&&e.remove();const t=document.getElementById("favicon-32"),s=document.getElementById("favicon-16"),a=document.getElementById("apple-touch-icon");t&&t.remove(),s&&s.remove(),a&&a.remove()}"serviceWorker"in navigator&&!rs&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{logInfo("Service worker registered successfully",{component:"main",scope:e.scope})}).catch(e=>{logError("Service worker registration failed",{component:"main",error:e.message})})});const ns=document.getElementById("app");if(!ns)throw new Error('Root element with id "app" not found');P.createRoot(ns).render(t.jsx(k.StrictMode,{children:t.jsx(App,{})}));const ls={container:"_container_t5skj_5",header:"_header_t5skj_47",title:"_title_t5skj_61",subtitle:"_subtitle_t5skj_79",statsBar:"_statsBar_t5skj_99",statItem:"_statItem_t5skj_115",statNumber:"_statNumber_t5skj_139",statLabel:"_statLabel_t5skj_161",mainContent:"_mainContent_t5skj_179",cardStack:"_cardStack_t5skj_191",ideaCard:"_ideaCard_t5skj_211",cardHeader:"_cardHeader_t5skj_253",cardMeta:"_cardMeta_t5skj_267",creator:"_creator_t5skj_279",date:"_date_t5skj_279",expandButton:"_expandButton_t5skj_297",cardContent:"_cardContent_t5skj_329",cardTitle:"_cardTitle_t5skj_337",cardDescription:"_cardDescription_t5skj_353",cardTags:"_cardTags_t5skj_367",tag:"_tag_t5skj_379",category:"_category_t5skj_397",priority:"_priority_t5skj_407",priorityCritical:"_priorityCritical_t5skj_415",priorityHigh:"_priorityHigh_t5skj_423",priorityMedium:"_priorityMedium_t5skj_431",priorityLow:"_priorityLow_t5skj_439",attachments:"_attachments_t5skj_447",swipeIndicators:"_swipeIndicators_t5skj_467",rejectIndicator:"_rejectIndicator_t5skj_503",approveIndicator:"_approveIndicator_t5skj_503",emptyState:"_emptyState_t5skj_569",emptyIcon:"_emptyIcon_t5skj_591",emptyTitle:"_emptyTitle_t5skj_603",emptyMessage:"_emptyMessage_t5skj_617",loadingState:"_loadingState_t5skj_631",loadingSpinner:"_loadingSpinner_t5skj_653",spin:"_spin_t5skj_1",modalOverlay:"_modalOverlay_t5skj_697",modalContent:"_modalContent_t5skj_727",modalHeader:"_modalHeader_t5skj_747",modalTitle:"_modalTitle_t5skj_763",closeButton:"_closeButton_t5skj_781",modalMeta:"_modalMeta_t5skj_813",metaItem:"_metaItem_t5skj_829",modalBody:"_modalBody_t5skj_847",description:"_description_t5skj_855",attachmentList:"_attachmentList_t5skj_883",attachmentItem:"_attachmentItem_t5skj_895",downloadButton:"_downloadButton_t5skj_935",modalActions:"_modalActions_t5skj_965",actionButton:"_actionButton_t5skj_981",reject:"_reject_t5skj_503",approve:"_approve_t5skj_503",float:"_float_t5skj_1"},ds=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{data:s,loading:a,updateIdeaStatus:i}=useIdeaData(),{user:r}=useUser(),[l,d]=e.useState(null),[o,m]=e.useState(!1),[p,h]=e.useState(null),u=$(0),x=L(u,[-300,300],[-15,15]),j=e.useMemo(()=>{if(!s?.ideas||!Array.isArray(s.ideas))return[];const e=s.ideas.filter(e=>"Pending Approval"===e.status||"Pending Approval"===e.Status);return console.log("All ideas:",s.ideas.map(e=>({id:e.id,status:e.status}))),console.log("Filtered pending ideas:",e.map(e=>({id:e.id,status:e.status}))),e.sort((e,t)=>new Date(e.created||e.Created).getTime()-new Date(t.created||t.Created).getTime()).map(e=>({id:e.id||e.ID,title:e.title||e.Title,description:e.description||e.Description,status:e.status||e.Status,priority:e.priority||e.Priority,category:e.category||e.Category,createdBy:e.createdBy||e.Author?.Title||e.CreatedBy,created:e.created||e.Created,modified:e.modified||e.Modified,attachments:e.attachments||[]}))},[s?.ideas]),handleClose=()=>{m(!1),d(null)},handleCancelAction=()=>{h(null)};return t.jsxs("div",{className:ls.container,children:[t.jsxs("div",{className:ls.header,children:[t.jsx(M.h1,{className:ls.title,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:"Idea Approvals"}),t.jsx(M.p,{className:ls.subtitle,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Review and approve innovative ideas from your team"})]}),t.jsx("div",{className:ls.statsBar,children:t.jsxs(M.div,{className:ls.statItem,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.3},children:[t.jsx("div",{className:ls.statNumber,children:j.length}),t.jsx("div",{className:ls.statLabel,children:"Pending Approvals"})]})}),t.jsx("div",{className:ls.mainContent,children:a.ideas?t.jsxs(M.div,{className:ls.loadingState,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[t.jsx("div",{className:ls.loadingSpinner}),t.jsx("p",{children:"Loading pending ideas..."})]}):0===j.length?t.jsxs(M.div,{className:ls.emptyState,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[t.jsx(n,{size:64,className:ls.emptyIcon}),t.jsx("h3",{className:ls.emptyTitle,children:"All Caught Up!"}),t.jsx("p",{className:ls.emptyMessage,children:"No pending ideas to review at the moment."})]}):t.jsx(M.div,{className:ls.cardStack,layout:!0,children:j.map((e,s)=>t.jsxs(M.div,{className:ls.ideaCard,style:{x:0===s?u:0,rotate:0===s?x:.5*s,zIndex:j.length-s},drag:0===s&&"x",dragConstraints:0===s&&{left:-300,right:300},onDragStart:()=>(e=>{console.log("Drag started for idea:",e.id)})(e),onDragEnd:(t,s)=>(async(e,t,s)=>{console.log("Drag ended for idea:",e.id,"Offset:",s.offset,"Point:",s.point);const{offset:a}=s;console.log("Swipe check - offset.x:",a.x,"threshold:",40,"abs(offset.x) > threshold:",Math.abs(a.x)>40),Math.abs(a.x)>40?a.x>0?(console.log("Swiping right - Approving idea:",e.id),h({idea:e,action:"approve"})):(console.log("Swiping left - Rejecting idea:",e.id),h({idea:e,action:"reject"})):console.log("Swipe not far enough")})(e,0,s),whileHover:0===s?{scale:1.02}:{},whileDrag:0===s?{scale:1.05}:{},dragElastic:0===s?.2:0,dragTransition:0===s?{bounceStiffness:300,bounceDamping:30}:{},initial:{opacity:0,y:50+8*s},animate:{opacity:1,y:8*s},transition:{duration:.6,delay:.1*s},layout:!1,children:[t.jsxs("div",{className:ls.cardHeader,children:[t.jsxs("div",{className:ls.cardMeta,children:[t.jsxs("div",{className:ls.creator,children:[t.jsx(c,{size:14}),t.jsx("span",{children:e.createdBy})]}),t.jsxs("div",{className:ls.date,children:[t.jsx(R,{size:14}),t.jsx("span",{children:new Date(e.created).toLocaleDateString()})]})]}),t.jsx("button",{className:ls.expandButton,onClick:()=>(e=>{d(e),m(!0)})(e),title:"View Details",children:t.jsx(B,{size:16})})]}),t.jsxs("div",{className:ls.cardContent,children:[t.jsx("h3",{className:ls.cardTitle,children:e.title}),t.jsx("p",{className:ls.cardDescription,children:e.description.length>150?`${e.description.substring(0,150)}...`:e.description}),t.jsxs("div",{className:ls.cardTags,children:[t.jsx("span",{className:`${ls.tag} ${ls.category}`,children:e.category}),t.jsx("span",{className:`${ls.tag} ${ls.priority} ${ls[`priority${e.priority}`]}`,children:e.priority})]}),e.attachments&&e.attachments.length>0&&t.jsxs("div",{className:ls.attachments,children:[t.jsx(q,{size:14}),t.jsxs("span",{children:[e.attachments.length," attachment",e.attachments.length>1?"s":""]})]})]}),t.jsxs("div",{className:ls.swipeIndicators,style:{marginTop:"20px"},children:[t.jsxs("div",{className:ls.rejectIndicator,children:[t.jsx(z,{size:24}),t.jsx("span",{children:"Reject"})]}),t.jsxs("div",{className:ls.approveIndicator,children:[t.jsx(n,{size:24}),t.jsx("span",{children:"Approve"})]})]})]},e.id))})}),t.jsx(O,{children:o&&l&&t.jsx(M.div,{className:ls.modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:handleClose,children:t.jsxs(M.div,{className:ls.modalContent,initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:ls.modalHeader,children:[t.jsx("h2",{className:ls.modalTitle,children:l.title}),t.jsx("button",{className:ls.closeButton,onClick:handleClose,children:"Ã—"})]}),t.jsxs("div",{className:ls.modalMeta,children:[t.jsxs("div",{className:ls.metaItem,children:[t.jsx(c,{size:16}),t.jsx("span",{children:l.createdBy})]}),t.jsxs("div",{className:ls.metaItem,children:[t.jsx(R,{size:16}),t.jsx("span",{children:new Date(l.created).toLocaleDateString()})]}),t.jsx("div",{className:ls.metaItem,children:t.jsx("span",{className:`${ls.tag} ${ls.category}`,children:l.category})}),t.jsx("div",{className:ls.metaItem,children:t.jsx("span",{className:`${ls.tag} ${ls.priority} ${ls[`priority${l.priority}`]}`,children:l.priority})})]}),t.jsxs("div",{className:ls.modalBody,children:[t.jsxs("div",{className:ls.description,children:[t.jsx("h3",{children:"Description"}),t.jsx("p",{children:l.description})]}),l.attachments&&l.attachments.length>0&&t.jsxs("div",{className:ls.attachments,children:[t.jsx("h3",{children:"Attachments"}),t.jsx("div",{className:ls.attachmentList,children:l.attachments.map((e,s)=>t.jsxs("div",{className:ls.attachmentItem,children:[t.jsx(b,{size:16}),t.jsx("span",{children:e.fileName}),t.jsx("button",{className:ls.downloadButton,onClick:()=>(e=>{window.open(e.serverRelativeUrl,"_blank")})(e),children:t.jsx(U,{size:14})})]},s))})]})]}),t.jsxs("div",{className:ls.modalActions,children:[t.jsxs("button",{className:`${ls.actionButton} ${ls.reject}`,onClick:async()=>{l&&(h({idea:l,action:"reject"}),handleClose())},style:{marginRight:"20px"},children:[t.jsx(z,{size:18}),"Reject"]}),t.jsxs("button",{className:`${ls.actionButton} ${ls.approve}`,onClick:async()=>{l&&(h({idea:l,action:"approve"}),handleClose())},children:[t.jsx(n,{size:18}),"Approve"]})]})]})})}),t.jsx(O,{children:p&&t.jsx(M.div,{className:ls.modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:handleCancelAction,children:t.jsxs(M.div,{className:ls.confirmationModal,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:e=>e.stopPropagation(),children:[t.jsx("div",{className:ls.confirmationHeader,children:t.jsxs("h3",{children:["Confirm ","approve"===p.action?"Approval":"Rejection"]})}),t.jsxs("div",{className:ls.confirmationBody,children:[t.jsxs("p",{children:["Are you sure you want to ",t.jsx("strong",{children:p.action})," the idea:"]}),t.jsx("h4",{children:p.idea.title}),t.jsx("p",{children:p.idea.description.length>150?`${p.idea.description.substring(0,150)}...`:p.idea.description})]}),t.jsxs("div",{className:ls.confirmationActions,children:[t.jsx("button",{className:`${ls.actionButton} ${ls.cancel}`,onClick:handleCancelAction,style:{marginRight:"20px"},children:"Cancel"}),t.jsx("button",{className:`${ls.actionButton} ${"approve"===p.action?ls.approve:ls.reject}`,onClick:async()=>{if(!p||!i)return;const{idea:e,action:t}=p;await i(parseInt(e.id),"approve"===t?"Approved":"Rejected"),h(null)},children:"approve"===p.action?"Approve":"Reject"})]})]})})})]})}},Symbol.toStringTag,{value:"Module"})),StatusBar=({isLoading:e=!1,lastUpdated:s,status:a="online",compact:r=!1,className:l=""})=>{const getStatusIcon=()=>{switch(a){case"online":return t.jsx(n,{size:14});case"offline":case"error":return t.jsx(i,{size:14});case"syncing":return t.jsx(F,{size:14,className:"animate-pulse"});default:return t.jsx(H,{size:14})}},getStatusText=()=>{switch(a){case"online":return"Live";case"offline":return"Offline";case"syncing":return"Syncing";case"error":return"Error";default:return"Unknown"}},getStatusColor=()=>{switch(a){case"online":return"#10b981";case"offline":case"error":return"#d13438";case"syncing":return"#ffb900";default:return"#666666"}},formatLastUpdated=e=>{const t=(new Date).getTime()-e.getTime(),s=Math.floor(t/6e4),a=Math.floor(t/36e5),i=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s}m ago`:a<24?`${a}h ago`:i<7?`${i}d ago`:e.toLocaleDateString()};return r?t.jsxs("div",{className:`inline-flex items-center gap-2 text-xs font-medium ${l}`,children:[t.jsxs("div",{className:"flex items-center gap-1",style:{color:getStatusColor()},children:[getStatusIcon(),t.jsx("span",{className:"compact-status-text",children:getStatusText()})]}),s&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-400",children:"â€¢"}),t.jsx("span",{className:"text-gray-500",children:formatLastUpdated(s)})]})]}):t.jsxs("div",{className:`flex items-center gap-3 ${l}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 font-medium",style:{color:getStatusColor()},children:[getStatusIcon(),t.jsx("span",{children:getStatusText()})]}),s&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-400",children:"â€¢"}),t.jsxs("span",{className:"text-gray-600 text-sm",children:["Updated ",formatLastUpdated(s)]})]})]}),e&&t.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[t.jsx(F,{size:14,className:"animate-spin"}),t.jsx("span",{className:"text-sm",children:"Loading..."})]})]})},os=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const s=j(),{data:a,loading:i,error:r,loadIdeas:n}=useIdeaData(),{user:l,isAdmin:d,isApprover:o,isContributor:c}=useUser();e.useEffect(()=>{n()},[n]);const m=a.ideas,p=e.useMemo(()=>({totalIdeas:m.length,pendingIdeas:m.filter(e=>"Pending Approval"===e.status).length,approvedIdeas:m.filter(e=>"Approved"===e.status).length,inProgressIdeas:m.filter(e=>"In Progress"===e.status).length,rejectedIdeas:m.filter(e=>"Rejected"===e.status).length}),[m]);return i.ideas?t.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:t.jsx(LoadingSpinner,{size:"lg"})}):r.ideas?t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(StatusBar,{status:"error"})})}):t.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Innovation Dashboard"}),t.jsx("p",{className:"text-gray-600 text-lg",children:"Comprehensive overview of all innovation activities and progress."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Ideas"}),t.jsx("p",{className:"text-3xl font-bold text-blue-600",children:p.totalIdeas})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Approval"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:p.pendingIdeas})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Approved"}),t.jsx("p",{className:"text-3xl font-bold text-green-600",children:p.approvedIdeas})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"In Progress"}),t.jsx("p",{className:"text-3xl font-bold text-purple-600",children:p.inProgressIdeas})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Rejected"}),t.jsx("p",{className:"text-3xl font-bold text-red-600",children:p.rejectedIdeas})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:()=>s("/idea/new"),className:"w-full text-left px-4 py-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:"ðŸ’¡"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Submit New Idea"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Share your innovative ideas"})]})]}),t.jsxs("button",{onClick:()=>s("/my-ideas"),className:"w-full text-left px-4 py-3 bg-green-50 hover:bg-green-100 rounded-lg transition-colors flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:"ðŸ“‹"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"View My Ideas"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Track your submitted ideas"})]})]}),o&&t.jsxs("button",{onClick:()=>s("/approver"),className:"w-full text-left px-4 py-3 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:"âœ…"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Review Ideas"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Approve or reject submissions"})]})]}),d&&t.jsxs("button",{onClick:()=>s("/admin"),className:"w-full text-left px-4 py-3 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:"âš™ï¸"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Admin Panel"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Manage system settings"})]})]})]})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Activity Summary"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:"ðŸ“ˆ"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Innovation Rate"}),t.jsx("div",{className:"text-sm text-gray-600",children:p.totalIdeas>0?`${Math.round(p.approvedIdeas/p.totalIdeas*100)}% approval rate`:"No ideas yet"})]})]})}),t.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:"âš¡"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Active Projects"}),t.jsxs("div",{className:"text-sm text-gray-600",children:[p.inProgressIdeas," ideas currently in development"]})]})]})}),t.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:"ðŸŽ¯"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Pending Reviews"}),t.jsxs("div",{className:"text-sm text-gray-600",children:[p.pendingIdeas," ideas awaiting approval"]})]})]})})]})]})]})]})})}},Symbol.toStringTag,{value:"Module"})),cs={splitContainer:"_splitContainer_wmqc7_5",header:"_header_wmqc7_19",title:"_title_wmqc7_31",subtitle:"_subtitle_wmqc7_45",statsGrid:"_statsGrid_wmqc7_59",statCard:"_statCard_wmqc7_75",statIcon:"_statIcon_wmqc7_109",statContent:"_statContent_wmqc7_131",statNumber:"_statNumber_wmqc7_139",statLabel:"_statLabel_wmqc7_153",splitLayout:"_splitLayout_wmqc7_169",leftPanel:"_leftPanel_wmqc7_183",rightPanel:"_rightPanel_wmqc7_203",panelHeader:"_panelHeader_wmqc7_225",panelTitle:"_panelTitle_wmqc7_241",submitButton:"_submitButton_wmqc7_255",compactCardsList:"_compactCardsList_wmqc7_291",compactCard:"_compactCard_wmqc7_291",compactCardSelected:"_compactCardSelected_wmqc7_335",compactCardHeader:"_compactCardHeader_wmqc7_345",compactCardTitle:"_compactCardTitle_wmqc7_359",compactStatusBadge:"_compactStatusBadge_wmqc7_379",compactCardDescription:"_compactCardDescription_wmqc7_387",compactCardMeta:"_compactCardMeta_wmqc7_411",compactCategory:"_compactCategory_wmqc7_425",compactPriority:"_compactPriority_wmqc7_443",compactCardDate:"_compactCardDate_wmqc7_461",status:"_status_wmqc7_473",statusApproved:"_statusApproved_wmqc7_493",statusPending:"_statusPending_wmqc7_503",statusRejected:"_statusRejected_wmqc7_513",statusInProgress:"_statusInProgress_wmqc7_523",statusDefault:"_statusDefault_wmqc7_533",priorityCritical:"_priorityCritical_wmqc7_543",priorityHigh:"_priorityHigh_wmqc7_553",priorityMedium:"_priorityMedium_wmqc7_563",priorityLow:"_priorityLow_wmqc7_573",detailView:"_detailView_wmqc7_585",detailHeader:"_detailHeader_wmqc7_597",detailTitleSection:"_detailTitleSection_wmqc7_607",detailTitle:"_detailTitle_wmqc7_607",detailStatusBadges:"_detailStatusBadges_wmqc7_637",detailContent:"_detailContent_wmqc7_649",detailSection:"_detailSection_wmqc7_661",detailSectionTitle:"_detailSectionTitle_wmqc7_669",detailDescription:"_detailDescription_wmqc7_683",detailGrid:"_detailGrid_wmqc7_695",detailItem:"_detailItem_wmqc7_707",detailLabel:"_detailLabel_wmqc7_719",detailValue:"_detailValue_wmqc7_731",trailContainer:"_trailContainer_wmqc7_745",trailItem:"_trailItem_wmqc7_757",trailIcon:"_trailIcon_wmqc7_769",trailContent:"_trailContent_wmqc7_793",trailTitle:"_trailTitle_wmqc7_801",trailDescription:"_trailDescription_wmqc7_815",trailDate:"_trailDate_wmqc7_827",emptyState:"_emptyState_wmqc7_841",emptyIcon:"_emptyIcon_wmqc7_859",emptyTitle:"_emptyTitle_wmqc7_869",emptyMessage:"_emptyMessage_wmqc7_883",noSelection:"_noSelection_wmqc7_895",noSelectionIcon:"_noSelectionIcon_wmqc7_915",noSelectionTitle:"_noSelectionTitle_wmqc7_925",noSelectionMessage:"_noSelectionMessage_wmqc7_939"},ms=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const s=j(),{data:a,loading:i,error:r,loadIdeas:n}=useIdeaData(),{user:l,isAdmin:d,isApprover:o,isContributor:c}=useUser(),[m,p]=e.useState(null);e.useEffect(()=>{n()},[n]),e.useEffect(()=>{n()},[n]);const h=e.useMemo(()=>l?.user?.Title?a.ideas.filter(e=>e.createdBy===l.user.Title):[],[a.ideas,l]);e.useEffect(()=>{h.length>0&&!m&&p(h[0])},[h,m]);const u=e.useMemo(()=>({totalIdeas:h.length,pendingIdeas:h.filter(e=>"Pending Approval"===e.status).length,approvedIdeas:h.filter(e=>"Approved"===e.status).length,inProgressIdeas:h.filter(e=>"In Progress"===e.status).length,rejectedIdeas:h.filter(e=>"Rejected"===e.status).length}),[h]);return i.ideas?t.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:t.jsx(LoadingSpinner,{size:"lg"})}):r.ideas?t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(StatusBar,{status:"error"})})}):t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:cs.splitContainer,children:[t.jsxs("div",{className:cs.header,children:[t.jsx("h1",{className:cs.title,children:"My Ideas"}),t.jsx("p",{className:cs.subtitle,children:"Track and manage all your submitted ideas"})]}),t.jsxs("div",{className:cs.statsGrid,children:[t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:cs.statCard,children:[t.jsx("div",{className:cs.statIcon,children:"ðŸ“"}),t.jsxs("div",{className:cs.statContent,children:[t.jsx("h3",{className:cs.statNumber,children:u.totalIdeas}),t.jsx("p",{className:cs.statLabel,children:"Total Ideas"})]})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:cs.statCard,children:[t.jsx("div",{className:cs.statIcon,children:"â³"}),t.jsxs("div",{className:cs.statContent,children:[t.jsx("h3",{className:cs.statNumber,children:u.pendingIdeas}),t.jsx("p",{className:cs.statLabel,children:"Pending Approval"})]})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:cs.statCard,children:[t.jsx("div",{className:cs.statIcon,children:"âœ…"}),t.jsxs("div",{className:cs.statContent,children:[t.jsx("h3",{className:cs.statNumber,children:u.approvedIdeas}),t.jsx("p",{className:cs.statLabel,children:"Approved"})]})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:cs.statCard,children:[t.jsx("div",{className:cs.statIcon,children:"âš¡"}),t.jsxs("div",{className:cs.statContent,children:[t.jsx("h3",{className:cs.statNumber,children:u.inProgressIdeas}),t.jsx("p",{className:cs.statLabel,children:"In Progress"})]})]})]}),t.jsxs("div",{className:cs.splitLayout,children:[t.jsxs("div",{className:cs.leftPanel,children:[t.jsxs("div",{className:cs.panelHeader,children:[t.jsx("h2",{className:cs.panelTitle,children:"Your Ideas"}),t.jsx("button",{onClick:()=>s("/idea/new"),className:cs.submitButton,children:"+ New Idea"})]}),0===h.length?t.jsxs("div",{className:cs.emptyState,children:[t.jsx("div",{className:cs.emptyIcon,children:"ðŸ’¡"}),t.jsx("h3",{className:cs.emptyTitle,children:"No ideas yet"}),t.jsx("p",{className:cs.emptyMessage,children:"You haven't submitted any ideas yet. Start by submitting your first idea!"}),t.jsx("button",{onClick:()=>s("/idea/new"),className:cs.submitButton,children:"Submit Your First Idea"})]}):t.jsx("div",{className:cs.compactCardsList,children:h.map((e,s)=>t.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*s},onClick:()=>p(e),className:`${cs.compactCard} ${m?.id===e.id?cs.compactCardSelected:""}`,children:[t.jsxs("div",{className:cs.compactCardHeader,children:[t.jsx("h4",{className:cs.compactCardTitle,children:e.title}),t.jsx("div",{className:cs.compactStatusBadge,children:t.jsx("span",{className:`${cs.status} ${"Approved"===e.status?cs.statusApproved:"Pending Approval"===e.status?cs.statusPending:"Rejected"===e.status?cs.statusRejected:"In Progress"===e.status?cs.statusInProgress:cs.statusDefault}`,children:e.status})})]}),t.jsx("p",{className:cs.compactCardDescription,children:e.description.length>100?`${e.description.substring(0,100)}...`:e.description}),t.jsxs("div",{className:cs.compactCardMeta,children:[t.jsx("span",{className:cs.compactCategory,children:e.category}),t.jsx("span",{className:`${cs.compactPriority} ${"Critical"===e.priority?cs.priorityCritical:"High"===e.priority?cs.priorityHigh:"Medium"===e.priority?cs.priorityMedium:cs.priorityLow}`,children:e.priority})]}),t.jsx("div",{className:cs.compactCardDate,children:e.created&&!isNaN(e.created.getTime())?e.created.toLocaleDateString():"Date unavailable"})]},e.id))})]}),t.jsx("div",{className:cs.rightPanel,children:m?t.jsxs("div",{className:cs.detailView,children:[t.jsx("div",{className:cs.detailHeader,children:t.jsxs("div",{className:cs.detailTitleSection,children:[t.jsx("h2",{className:cs.detailTitle,children:m.title}),t.jsxs("div",{className:cs.detailStatusBadges,children:[t.jsx("span",{className:`${cs.status} ${"Approved"===m.status?cs.statusApproved:"Pending Approval"===m.status?cs.statusPending:"Rejected"===m.status?cs.statusRejected:"In Progress"===m.status?cs.statusInProgress:cs.statusDefault}`,children:m.status}),t.jsx("span",{className:`${cs.priority} ${"Critical"===m.priority?cs.priorityCritical:"High"===m.priority?cs.priorityHigh:"Medium"===m.priority?cs.priorityMedium:cs.priorityLow}`,children:m.priority})]})]})}),t.jsxs("div",{className:cs.detailContent,children:[t.jsxs("div",{className:cs.detailSection,children:[t.jsx("h3",{className:cs.detailSectionTitle,children:"Description"}),t.jsx("p",{className:cs.detailDescription,children:m.description})]}),t.jsxs("div",{className:cs.detailSection,children:[t.jsx("h3",{className:cs.detailSectionTitle,children:"Details"}),t.jsxs("div",{className:cs.detailGrid,children:[t.jsxs("div",{className:cs.detailItem,children:[t.jsx("span",{className:cs.detailLabel,children:"Category:"}),t.jsx("span",{className:cs.detailValue,children:m.category})]}),t.jsxs("div",{className:cs.detailItem,children:[t.jsx("span",{className:cs.detailLabel,children:"Priority:"}),t.jsx("span",{className:cs.detailValue,children:m.priority})]}),t.jsxs("div",{className:cs.detailItem,children:[t.jsx("span",{className:cs.detailLabel,children:"Created:"}),t.jsx("span",{className:cs.detailValue,children:m.created&&!isNaN(m.created.getTime())?m.created.toLocaleString():"Date unavailable"})]}),t.jsxs("div",{className:cs.detailItem,children:[t.jsx("span",{className:cs.detailLabel,children:"Last Modified:"}),t.jsx("span",{className:cs.detailValue,children:m.modified&&!isNaN(m.modified.getTime())?m.modified.toLocaleString():"Date unavailable"})]})]})]}),t.jsxs("div",{className:cs.detailSection,children:[t.jsx("h3",{className:cs.detailSectionTitle,children:"Idea Trail"}),t.jsxs("div",{className:cs.trailContainer,children:[t.jsxs("div",{className:cs.trailItem,children:[t.jsx("div",{className:cs.trailIcon,children:"ðŸ“"}),t.jsxs("div",{className:cs.trailContent,children:[t.jsx("h4",{className:cs.trailTitle,children:"Idea Submitted"}),t.jsx("p",{className:cs.trailDescription,children:"Idea was submitted for review"}),t.jsx("span",{className:cs.trailDate,children:m.created&&!isNaN(m.created.getTime())?m.created.toLocaleString():"Date unavailable"})]})]}),"Pending Approval"!==m.status&&t.jsxs("div",{className:cs.trailItem,children:[t.jsx("div",{className:cs.trailIcon,children:"Approved"===m.status?"âœ…":"Rejected"===m.status?"âŒ":"âš¡"}),t.jsxs("div",{className:cs.trailContent,children:[t.jsx("h4",{className:cs.trailTitle,children:"Approved"===m.status?"Idea Approved":"Rejected"===m.status?"Idea Rejected":"Status Updated"}),t.jsxs("p",{className:cs.trailDescription,children:['Idea status changed to "',m.status,'"']}),t.jsx("span",{className:cs.trailDate,children:m.modified&&!isNaN(m.modified.getTime())?m.modified.toLocaleString():"Date unavailable"})]})]})]})]})]})]}):t.jsxs("div",{className:cs.noSelection,children:[t.jsx("div",{className:cs.noSelectionIcon,children:"ðŸ‘†"}),t.jsx("h3",{className:cs.noSelectionTitle,children:"Select an Idea"}),t.jsx("p",{className:cs.noSelectionMessage,children:"Click on an idea from the list to view its details"})]})})]})]})}},Symbol.toStringTag,{value:"Module"})),ps="_container_1j8k5_3",hs="_content_1j8k5_27",us="_header_1j8k5_37",xs="_backButton_1j8k5_45",js="_heroSection_1j8k5_81",gs="_heroIcon_1j8k5_91",_s="_heroTitle_1j8k5_115",ys="_heroSubtitle_1j8k5_129",vs="_formContainer_1j8k5_143",Ns="_formHeader_1j8k5_159",fs="_form_1j8k5_143",bs="_formSection_1j8k5_209",ws="_formLabel_1j8k5_221",Is="_required_1j8k5_235",Ts="_inputGroup_1j8k5_243",ks="_formInput_1j8k5_251",Ss="_formSelect_1j8k5_253",Cs="_formTextarea_1j8k5_255",Ds="_inputError_1j8k5_331",As="_charCounter_1j8k5_341",Es="_formHelp_1j8k5_357",Ps="_formHelpRow_1j8k5_367",$s="_errorMessage_1j8k5_379",Ls="_formGrid_1j8k5_397",Ms="_submitSection_1j8k5_421",Rs="_submitButton_1j8k5_431",Bs="_spinner_1j8k5_501",qs="_processInfo_1j8k5_531",zs="_processHeader_1j8k5_547",Os="_processTitle_1j8k5_557",Us="_processSubtitle_1j8k5_571",Fs="_processGrid_1j8k5_579",Hs="_processStep_1j8k5_603",Gs="_stepIcon_1j8k5_611",Vs="_review_1j8k5_633",Ws="_implementation_1j8k5_643",Ys="_tracking_1j8k5_653",Ks="_stepTitle_1j8k5_663",Qs="_stepDescription_1j8k5_675",Js="_successContainer_1j8k5_689",Zs="_successContent_1j8k5_707",Xs="_successIcon_1j8k5_719",ea="_successTitle_1j8k5_743",ta="_successMessage_1j8k5_757",sa="_successCard_1j8k5_771",aa="_redirectMessage_1j8k5_811",ia="_optional_1j8k5_823",ra="_dropZone_1j8k5_835",na="_dropZoneActive_1j8k5_901",la="_dropZoneIcon_1j8k5_921",da="_dropZoneText_1j8k5_943",oa="_dropZoneTitle_1j8k5_951",ca="_dropZoneSubtitle_1j8k5_965",ma="_fileInput_1j8k5_977",pa="_attachmentsList_1j8k5_989",ha="_attachmentItem_1j8k5_1003",ua="_attachmentPreview_1j8k5_1037",xa="_attachmentIcon_1j8k5_1053",ja="_attachmentInfo_1j8k5_1075",ga="_attachmentName_1j8k5_1085",_a="_attachmentSize_1j8k5_1099",ya="_removeAttachment_1j8k5_1111",va=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const a=j(),{user:i}=useUser(),[l,d]=e.useState(!1),[o,c]=e.useState(!1),[m,p]=e.useState({title:"",description:"",category:"",priority:"Medium",attachments:[]}),[h,u]=e.useState({}),[x,g]=e.useState(!1),handleInputChange=e=>{const{name:t,value:s}=e.target;p(e=>({...e,[t]:s})),h[t]&&u(e=>({...e,[t]:void 0}))},handleFileSelect=e=>{if(!e)return;const t=5-m.attachments.length;if(e.length>t)return void u({attachments:`You can only upload up to 5 files. You have ${t} slots remaining.`});const s=Array.from(e).map(e=>({file:e,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,preview:e.type.startsWith("image/")?URL.createObjectURL(e):void 0}));p(e=>({...e,attachments:[...e.attachments,...s]})),h.attachments&&u(e=>({...e,attachments:void 0}))},formatFileSize=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return o?t.jsx(M.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:Js,children:t.jsxs("div",{className:Zs,children:[t.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:Xs,children:t.jsx(n,{className:"w-12 h-12 text-white"})}),t.jsx("h2",{className:ea,children:"Innovation Launched! ðŸš€"}),t.jsx("p",{className:ta,children:"Your groundbreaking idea has been successfully submitted and is now on its journey to transformation."}),t.jsxs("div",{className:sa,children:[t.jsx("p",{children:"What's next?"}),t.jsx("p",{children:"Our approval team will review your idea within 2-3 business days. You'll receive updates through your dashboard."})]}),t.jsx("p",{className:aa,children:"Redirecting to dashboard in a moment..."})]})}):t.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:ps,children:t.jsxs("div",{className:hs,children:[t.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},className:us,children:[t.jsxs("button",{onClick:()=>a("/"),className:xs,children:[t.jsx(G,{size:20}),t.jsx("span",{children:"Back to Dashboard"})]}),t.jsxs("div",{className:js,children:[t.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:gs,children:t.jsx(V,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:_s,children:"Share Your Innovation"}),t.jsx("p",{className:ys,children:"Transform your ideas into reality. Every great innovation starts with a single spark of creativity."})]})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:vs,children:[t.jsxs("div",{className:Ns,children:[t.jsx("h2",{children:"Idea Submission Form"}),t.jsx("p",{children:"Fill in the details below to submit your innovative idea"})]}),t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};if(m.title.trim()?m.title.length<5&&(e.title="Title must be at least 5 characters"):e.title="Title is required",m.description.trim()?m.description.length<20&&(e.description="Description must be at least 20 characters"):e.description="Description is required",m.category||(e.category="Category is required"),m.attachments.length>0){const t=10485760,s=["image/jpeg","image/png","image/gif","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/csv"];for(const a of m.attachments){if(a.file.size>t){e.attachments="Each file must be less than 10MB";break}if(!s.includes(a.file.type)){e.attachments="Unsupported file type. Please use images, PDF, Word, Excel, or text files";break}}}return u(e),0===Object.keys(e).length})())if(i){d(!0);try{logInfo("Submitting new idea",{title:m.title,category:m.category,priority:m.priority,attachmentCount:m.attachments.length,userId:i.user.Id});const e=await oe.createIdea({title:m.title,description:m.description,category:m.category,priority:m.priority,status:"Pending Approval",attachments:m.attachments.map(e=>e.file)});logInfo("Idea submitted successfully",{ideaId:e.id}),m.attachments.forEach(e=>{e.preview&&URL.revokeObjectURL(e.preview)}),c(!0),setTimeout(()=>{a("/")},2e3)}catch(t){logError("Failed to submit idea",t),u({title:"Failed to submit idea. Please try again."})}finally{d(!1)}}else logError("Cannot submit idea: user not authenticated")},className:fs,children:[t.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:bs,children:[t.jsxs("label",{htmlFor:"title",className:ws,children:["Idea Title ",t.jsx("span",{className:Is,children:"*"})]}),t.jsxs("div",{className:Ts,children:[t.jsx("input",{type:"text",id:"title",name:"title",value:m.title,onChange:handleInputChange,className:`${ks} ${h.title?Ds:""}`,placeholder:"Give your idea a compelling, memorable title...",disabled:l}),m.title&&t.jsxs("div",{className:As,children:[m.title.length,"/100"]})]}),h.title&&t.jsxs(M.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:$s,children:[t.jsx(r,{size:18}),h.title]})]}),t.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:Ls,children:[t.jsxs("div",{className:bs,children:[t.jsxs("label",{htmlFor:"category",className:ws,children:["Category ",t.jsx("span",{className:Is,children:"*"})]}),t.jsx("div",{className:Ts,children:t.jsxs("select",{id:"category",name:"category",value:m.category,onChange:handleInputChange,className:`${Ss} ${h.category?Ds:""}`,disabled:l,children:[t.jsx("option",{value:"",children:"Choose a category..."}),[{value:"Process Improvement",label:"Process Improvement"},{value:"Technology",label:"Technology"},{value:"Customer Experience",label:"Customer Experience"},{value:"Cost Reduction",label:"Cost Reduction"},{value:"Quality Enhancement",label:"Quality Enhancement"},{value:"Innovation",label:"Innovation"},{value:"Other",label:"Other"}].map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]})}),h.category&&t.jsxs(M.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:$s,children:[t.jsx(r,{size:18}),h.category]})]}),t.jsxs("div",{className:bs,children:[t.jsxs("label",{htmlFor:"priority",className:ws,children:["Priority Level ",t.jsx("span",{className:Is,children:"*"})]}),t.jsx("div",{className:Ts,children:t.jsx("select",{id:"priority",name:"priority",value:m.priority,onChange:handleInputChange,className:Ss,disabled:l,children:[{value:"Low",label:"Low - Nice to have"},{value:"Medium",label:"Medium - Should have"},{value:"High",label:"High - Must have"},{value:"Critical",label:"Critical - Urgent"}].map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})})]})]}),t.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},className:bs,children:[t.jsxs("label",{htmlFor:"description",className:ws,children:["Detailed Description ",t.jsx("span",{className:Is,children:"*"})]}),t.jsxs("div",{className:Ts,children:[t.jsx("textarea",{id:"description",name:"description",value:m.description,onChange:handleInputChange,rows:10,className:`${Cs} ${h.description?Ds:""}`,placeholder:"Describe your idea in detail. Consider including:\n\nâ€¢ What problem does this idea solve?\nâ€¢ How does it work technically?\nâ€¢ What are the expected benefits?\nâ€¢ Are there any potential challenges or risks?\nâ€¢ Who would be the primary users?",disabled:l}),t.jsxs("div",{className:As,children:[m.description.length,"/2000"]})]}),t.jsxs("div",{className:Ps,children:[t.jsx("p",{className:Es,children:"Minimum 20 characters required"}),h.description&&t.jsxs(M.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:$s,children:[t.jsx(r,{size:18}),h.description]})]})]}),t.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.65},className:bs,children:[t.jsxs("label",{className:ws,children:["Attachments ",t.jsx("span",{className:ia,children:"(Optional)"})]}),t.jsxs("div",{className:Ts,children:[t.jsxs("div",{className:`${ra} ${x?na:""}`,onDragOver:e=>{e.preventDefault(),g(!0)},onDragLeave:e=>{e.preventDefault(),g(!1)},onDrop:e=>{e.preventDefault(),g(!1),handleFileSelect(e.dataTransfer.files)},onClick:()=>document.getElementById("fileInput")?.click(),children:[t.jsx(W,{size:32,className:la}),t.jsxs("div",{className:da,children:[t.jsx("p",{className:oa,children:"Drop files here or click to browse"}),t.jsx("p",{className:ca,children:"Support: Images, PDF, Word, Excel, Text files (Max 10MB each, up to 5 files)"})]}),t.jsx("input",{id:"fileInput",type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt,.csv",onChange:e=>handleFileSelect(e.target.files),className:ma,disabled:l})]}),m.attachments.length>0&&t.jsx("div",{className:pa,children:m.attachments.map(e=>{const a=(i=e.file).type.startsWith("image/")?K:"application/pdf"===i.type?b:Q;var i;return t.jsxs(M.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:ha,children:[e.preview?t.jsx("img",{src:e.preview,alt:e.file.name,className:ua}):t.jsx("div",{className:xa,children:t.jsx(a,{size:24})}),t.jsxs("div",{className:ja,children:[t.jsx("p",{className:ga,children:e.file.name}),t.jsx("p",{className:_a,children:formatFileSize(e.file.size)})]}),t.jsx("button",{type:"button",onClick:()=>{return t=e.id,void p(e=>({...e,attachments:e.attachments.filter(e=>(e.id===t&&e.preview&&URL.revokeObjectURL(e.preview),e.id!==t))}));var t},className:ya,disabled:l,children:t.jsx(s,{size:16})})]},e.id)})})]}),h.attachments&&t.jsxs(M.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:$s,children:[t.jsx(r,{size:18}),h.attachments]})]}),t.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:Ms,children:t.jsx("button",{type:"submit",disabled:l,className:Rs,children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:Bs}),t.jsx("span",{children:"Submitting Your Innovation..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Y,{size:24}),t.jsx("span",{children:"Launch My Idea"})]})})})]})]}),t.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:qs,children:[t.jsxs("div",{className:zs,children:[t.jsx("h3",{className:Os,children:"What Happens Next?"}),t.jsx("p",{className:Us,children:"Your journey from idea to implementation"})]}),t.jsxs("div",{className:Fs,children:[t.jsxs("div",{className:Hs,children:[t.jsx("div",{className:`${Gs} ${Vs}`,children:t.jsx(T,{size:24})}),t.jsx("h4",{className:Ks,children:"Review"}),t.jsx("p",{className:Qs,children:"Your idea gets reviewed by our approval team within 2-3 business days"})]}),t.jsxs("div",{className:Hs,children:[t.jsx("div",{className:`${Gs} ${Ws}`,children:t.jsx(V,{size:24})}),t.jsx("h4",{className:Ks,children:"Implementation"}),t.jsx("p",{className:Qs,children:"Approved ideas become tasks and get assigned to implementation teams"})]}),t.jsxs("div",{className:Hs,children:[t.jsx("div",{className:`${Gs} ${Ys}`,children:t.jsx(w,{size:24})}),t.jsx("h4",{className:Ks,children:"Tracking"}),t.jsx("p",{className:Qs,children:"Track progress and provide feedback through your dashboard"})]})]})]})]})})}},Symbol.toStringTag,{value:"Module"})),Na={container:"_container_qn3gq_5",header:"_header_qn3gq_17",title:"_title_qn3gq_35",statusPending:"_statusPending_qn3gq_89",statusApproved:"_statusApproved_qn3gq_101",statusRejected:"_statusRejected_qn3gq_113",statusInProgress:"_statusInProgress_qn3gq_125",priorityLow:"_priorityLow_qn3gq_243",priorityMedium:"_priorityMedium_qn3gq_253",priorityHigh:"_priorityHigh_qn3gq_263",priorityCritical:"_priorityCritical_qn3gq_273",description:"_description_qn3gq_283"},fa=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{id:s}=J(),a=j(),{ideas:i,loading:r,error:n}=useIdeaData(),{user:l}=useUser(),[d,o]=e.useState(null);return e.useEffect(()=>{if(i.length>0&&s){const e=i.find(e=>e.id.toString()===s);e?o(e):a("/dashboard")}},[i,s,a]),r.ideas?t.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:t.jsx(LoadingSpinner,{size:"lg"})}):n.ideas?t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(StatusBar,{status:"error"})})}):d?t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:Na.container,children:[t.jsxs("div",{className:Na.header,children:[t.jsx("button",{onClick:()=>a("/dashboard"),className:Na.backButton,children:"â† Back to Dashboard"}),t.jsx("h1",{className:Na.title,children:d.title}),t.jsxs("div",{className:Na.headerMeta,children:[t.jsx("span",{className:Na.category,children:d.category}),t.jsx("span",{className:`${Na.status} ${"Approved"===d.status?Na.statusApproved:"Pending Approval"===d.status?Na.statusPending:"Rejected"===d.status?Na.statusRejected:"In Progress"===d.status?Na.statusInProgress:Na.statusDefault}`,children:d.status}),t.jsx("span",{className:`${Na.priority} ${"Critical"===d.priority?Na.priorityCritical:"High"===d.priority?Na.priorityHigh:"Medium"===d.priority?Na.priorityMedium:Na.priorityLow}`,children:d.priority})]})]}),t.jsxs("div",{className:Na.content,children:[t.jsxs("div",{className:Na.mainSection,children:[t.jsxs("div",{className:Na.section,children:[t.jsx("h2",{className:Na.sectionTitle,children:"Description"}),t.jsx("p",{className:Na.description,children:d.description})]}),t.jsxs("div",{className:Na.section,children:[t.jsx("h2",{className:Na.sectionTitle,children:"Details"}),t.jsxs("div",{className:Na.detailsGrid,children:[t.jsxs("div",{className:Na.detailItem,children:[t.jsx("span",{className:Na.detailLabel,children:"Submitted by:"}),t.jsx("span",{className:Na.detailValue,children:d.createdBy.name})]}),t.jsxs("div",{className:Na.detailItem,children:[t.jsx("span",{className:Na.detailLabel,children:"Date submitted:"}),t.jsx("span",{className:Na.detailValue,children:d.created&&!isNaN(d.created.getTime())?d.created.toLocaleDateString():"Date unavailable"})]}),t.jsxs("div",{className:Na.detailItem,children:[t.jsx("span",{className:Na.detailLabel,children:"Category:"}),t.jsx("span",{className:Na.detailValue,children:d.category})]}),t.jsxs("div",{className:Na.detailItem,children:[t.jsx("span",{className:Na.detailLabel,children:"Priority:"}),t.jsx("span",{className:Na.detailValue,children:d.priority})]})]})]})]}),t.jsxs("div",{className:Na.trailSection,children:[t.jsx("h2",{className:Na.sectionTitle,children:"Idea Trail"}),t.jsxs("div",{className:Na.trailContainer,children:[t.jsxs("div",{className:Na.trailItem,children:[t.jsx("div",{className:Na.trailIcon,children:t.jsx("span",{className:Na.iconSubmitted,children:"ðŸ“"})}),t.jsxs("div",{className:Na.trailContent,children:[t.jsx("h3",{className:Na.trailTitle,children:"Idea Submitted"}),t.jsxs("p",{className:Na.trailDescription,children:["Idea was submitted by ",d.createdBy.name," on"," ",d.created&&!isNaN(d.created.getTime())?d.created.toLocaleDateString():"unknown date"]}),t.jsx("span",{className:Na.trailDate,children:d.created&&!isNaN(d.created.getTime())?d.created.toLocaleString():"Date unavailable"})]})]}),"Pending Approval"!==d.status&&t.jsxs("div",{className:Na.trailItem,children:[t.jsx("div",{className:Na.trailIcon,children:t.jsx("span",{className:Na.iconReviewed,children:"ðŸ‘ï¸"})}),t.jsxs("div",{className:Na.trailContent,children:[t.jsx("h3",{className:Na.trailTitle,children:"Approved"===d.status?"Idea Approved":"Rejected"===d.status?"Idea Rejected":"Status Updated"}),t.jsxs("p",{className:Na.trailDescription,children:['Idea status changed to "',d.status,'"']}),t.jsx("span",{className:Na.trailDate,children:d.modified&&!isNaN(d.modified.getTime())?d.modified.toLocaleString():"Date unavailable"})]})]}),"In Progress"===d.status&&t.jsxs("div",{className:Na.trailItem,children:[t.jsx("div",{className:Na.trailIcon,children:t.jsx("span",{className:Na.iconProgress,children:"âš¡"})}),t.jsxs("div",{className:Na.trailContent,children:[t.jsx("h3",{className:Na.trailTitle,children:"Implementation Started"}),t.jsx("p",{className:Na.trailDescription,children:"Work has begun on implementing this idea"}),t.jsx("span",{className:Na.trailDate,children:d.modified&&!isNaN(d.modified.getTime())?d.modified.toLocaleString():"Date unavailable"})]})]})]})]})]})]}):t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-gray-500",children:"Idea not found."}),t.jsx("button",{onClick:()=>a("/dashboard"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})})})}},Symbol.toStringTag,{value:"Module"})),ba=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{taskId:s}=J(),a=j(),{data:i,loading:l,loadTasks:d,loadDiscussions:o}=useIdeaData(),{user:m,isAdmin:p,isApprover:h}=useUser(),[u,x]=e.useState(null),[g,_]=e.useState(null),[y,v]=e.useState([]),[N,f]=e.useState(!0),[b,w]=e.useState(null);e.useEffect(()=>{(async()=>{if(!s)return w("Task ID is required"),void f(!1);try{f(!0),w(null),0===i.tasks.length&&await d(),0===i.discussions.length&&await o();const e=i.tasks.find(e=>e.id===parseInt(s));if(!e)return void w("Task not found");x(e);const t=i.ideas.find(t=>t.title.toLowerCase().includes(e.title.toLowerCase().split(":")[1]?.trim()||""));_(t||null);const a=i.discussions.filter(t=>t.taskId===e.id);v(a)}catch(e){logError("Failed to load task details",e),w("Failed to load task details")}finally{f(!1)}})()},[s,i.tasks,i.discussions,i.ideas,d,o]);const getPriorityColor=e=>{switch(e){case"Critical":return"text-red-600 bg-red-100";case"High":return"text-orange-600 bg-orange-100";case"Normal":return"text-yellow-600 bg-yellow-100";case"Low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},formatDate=e=>e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return N||l.tasks||l.discussions?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(LoadingSpinner,{size:"lg",message:"Loading task details..."})}):b||!u?t.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen p-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsx(r,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:b||"Task Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"The task you're looking for doesn't exist or you don't have permission to view it."}),t.jsx("button",{onClick:()=>a("/"),className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})}):t.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"min-h-screen bg-gray-50 p-6",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("button",{onClick:()=>a("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[t.jsx(G,{size:20}),"Back to Dashboard"]}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(n,{className:"w-8 h-8 text-blue-500"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Task Details"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.title}),t.jsx("p",{className:"text-gray-600",children:u.description})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(e=>{switch(e){case"Completed":return"text-green-600 bg-green-100";case"In Progress":return"text-blue-600 bg-blue-100";case"Not Started":default:return"text-gray-600 bg-gray-100";case"On Hold":return"text-yellow-600 bg-yellow-100"}})(u.status)}`,children:u.status}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${getPriorityColor(u.priority)}`,children:u.priority})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(c,{size:16,className:"text-gray-400"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["Assigned to: ",u.assignedTo.length>0?u.assignedTo.join(", "):"Unassigned"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Z,{size:16,className:"text-gray-400"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["Progress: ",u.percentComplete,"%"]})]}),u.dueDate&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(R,{size:16,className:"text-gray-400"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["Due: ",formatDate(u.dueDate)]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(H,{size:16,className:"text-gray-400"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["Created: ",formatDate(u.created)]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[u.percentComplete,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${u.percentComplete}%`}})})]})]}),g&&t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(X,{size:20,className:"text-blue-500"}),"Related Idea"]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:g.title}),t.jsx("p",{className:"text-gray-600 mb-3",children:g.description}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{children:["Category: ",g.category]}),t.jsx("span",{children:"â€¢"}),t.jsxs("span",{children:["Priority: ",g.priority]}),t.jsx("span",{children:"â€¢"}),t.jsxs("span",{children:["Status: ",g.status]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-3 text-sm text-gray-500",children:[t.jsx(c,{size:14}),t.jsxs("span",{children:["Submitted by ",g.createdBy.name," on ",formatDate(g.created)]})]})]})]}),t.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(H,{size:20,className:"text-blue-500"}),"Task History & Trail"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(n,{size:16,className:"text-blue-600"})}),t.jsx("div",{className:"w-0.5 h-16 bg-gray-200 mt-2"})]}),t.jsxs("div",{className:"flex-1 pb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-medium text-gray-900",children:"Task Created"}),t.jsx("span",{className:"text-sm text-gray-500",children:formatDate(u.created)})]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Initial task created for idea review and implementation"})]})]}),"Not Started"!==u.status&&t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(Z,{size:16,className:"text-green-600"})}),t.jsx("div",{className:"w-0.5 h-16 bg-gray-200 mt-2"})]}),t.jsxs("div",{className:"flex-1 pb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-medium text-gray-900",children:"Status Updated"}),t.jsx("span",{className:"text-sm text-gray-500",children:"2 days ago"})]}),t.jsxs("p",{className:"text-gray-600 text-sm",children:['Task status changed to "',u.status,'"']})]})]}),g?.approvedBy&&t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx(c,{size:16,className:"text-purple-600"})}),t.jsx("div",{className:"w-0.5 h-16 bg-gray-200 mt-2"})]}),t.jsxs("div",{className:"flex-1 pb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-medium text-gray-900",children:"Idea Approved"}),t.jsx("span",{className:"text-sm text-gray-500",children:"1 day ago"})]}),t.jsxs("p",{className:"text-gray-600 text-sm",children:["Approved by ",g.approvedBy.name]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex flex-col items-center",children:t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+("Completed"===u.status?"bg-green-100":"bg-blue-100"),children:t.jsx(H,{size:16,className:"Completed"===u.status?"text-green-600":"text-blue-600"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-medium text-gray-900",children:"Current Status"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Now"})]}),t.jsxs("p",{className:"text-gray-600 text-sm",children:["Task is currently ",u.status.toLowerCase()," with ",u.percentComplete,"% completion"]})]})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[(p||h)&&t.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Task Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Update Status"}),t.jsx("button",{className:"w-full px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"Assign Team Member"}),t.jsx("button",{className:"w-full px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"Add Comment"})]})]}),t.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(ee,{size:18,className:"text-blue-500"}),"Discussions (",y.length,")"]}),0===y.length?t.jsx("p",{className:"text-gray-500 text-sm",children:"No discussions yet"}):t.jsx("div",{className:"space-y-3",children:y.slice(0,3).map(e=>t.jsxs("div",{className:"border-l-2 border-blue-200 pl-3",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e.message}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsx("span",{children:e.author}),t.jsx("span",{children:"â€¢"}),t.jsx("span",{children:formatDate(e.timestamp)})]})]},e.id))}),t.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors text-sm",children:"View All Discussions"})]}),t.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Task Information"}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"ID:"}),t.jsxs("span",{className:"ml-2 text-gray-600",children:["#",u.id]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Created:"}),t.jsx("span",{className:"ml-2 text-gray-600",children:formatDate(u.created)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Last Modified:"}),t.jsx("span",{className:"ml-2 text-gray-600",children:formatDate(u.modified)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Priority:"}),t.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${getPriorityColor(u.priority)}`,children:u.priority})]})]})]})]})]})]})})}},Symbol.toStringTag,{value:"Module"}));
